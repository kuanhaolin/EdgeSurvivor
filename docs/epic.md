# EdgeSurvivor (MVP) - Epics & User Stories
# 來源: PRD v1.0
# 狀態: 待辦 (To Do)

---

## Epic 1: 使用者認證系統 (User Authentication)

* **目標:** 確保用戶身份安全，提供流暢的登入註冊體驗。
* **用戶故事:**
    * **Story 1.1 (註冊):** 作為一個新用戶，我希望能使用 Email 和密碼註冊帳號，以便開始使用平台。
        * *AC 1.1.1:* 密碼需使用 scrypt 加密儲存。
        * *AC 1.1.2:* 註冊後需發送 Email 驗證信。
    * **Story 1.2 (登入):** 作為一個已註冊用戶，我希望能使用 Email 和密碼登入，以便存取我的資料。
        * *AC 1.2.1:* 登入成功後需返回 JWT Token。
    * **Story 1.3 (第三方登入):** 作為一個用戶，我希望能使用 Google 帳號快速登入/註冊，以便節省時間。
    * **Story 1.4 (忘記密碼):** 作為一個用戶，當我忘記密碼時，我希望能透過 Email 重設密碼。
    * **Story 1.5 (帳號管理):** 作為一個已登入用戶，我希望能變更我的密碼或刪除我的帳號。
    * **Story 1.6 (兩步驟驗證):** 作為一個注重安全的用戶，我希望能選用兩步驟驗證 (2FA) 來增強帳號安全。

---

## Epic 2: 個人資料管理 (Profile Management)

* **目標:** 讓用戶建立個人化的檔案，以利他人評估是否適合同行。
* **用戶故事:**
    * **Story 2.1 (編輯資料):** 作為一個用戶，我希望能編輯我的基本資料（姓名、Bio、性別、年齡、興趣），以便讓他人更認識我。
    * **Story 2.2 (頭像上傳):** 作為一個用戶，我希望能上傳一張個人頭像。
    * **Story 2.3 (社群連結):** 作為一個用戶，我希望能連結我的社群帳號（IG, FB, Line 等），並設定是否公開。
    * **Story 2.4 (個人儀表板):** 作為一個用戶，我希望能查看我的個人統計數據（如活動數、媒合數、平均評價），以便了解我的活躍程度。

---

## Epic 3: 活動探索與管理 (Activity Management)

* **目標:** 提供活動組織者建立活動，並讓旅行者能探索和搜尋活動。
* **用戶故事:**
    * **Story 3.1 (建立活動):** 作為一個活動組織者，我希望能建立一項新活動，包含標題、日期、地點、描述、類別、人數上限、費用和封面圖。
    * **Story 3.2 (瀏覽活動):** 作為一個用戶，我希望能瀏覽所有活動的列表。
    * **Story 3.3 (搜尋篩選):** 作為一個用戶，我希望能根據地點、日期、性別、年齡、類型來搜尋和篩選活動，以便快速找到符合需求的活動。
    * **Story 3.4 (查看詳情):** 作為一個用戶，我希望能點擊活動並查看其詳細頁面，包含所有資訊、目前的參與者、討論串、費用和相簿。
    * **Story 3.5 (狀態管理):** 作為一個活動組織者，我希望能管理活動狀態（開放 / 進行中 / 已完成 / 已取消）。
    * **Story 3.6 (活動相簿):** 作為一個活動參與者，我希望能上傳照片到活動相簿。
    * **Story 3.7 (刪除活動):** 作為一個活動創建者，我希望能刪除我創建的活動，以便移除不再需要的活動。
        * *AC 3.7.1:* 只有活動創建者可以刪除活動。
        * *AC 3.7.2:* 刪除活動會同時刪除相關的參與者記錄、討論記錄等。

---

## Epic 4: 媒合與參與者管理 (Matching & Participant Mgt.)

* **目標:** 建立一個安全、雙向確認的媒合機制。
* **用戶故事:**
    * **Story 4.1 (申請加入):** 作為一個獨自旅行者，我希望能申請加入一個我感興趣的活動，並附帶一段訊息給組織者。
    * **Story 4.2 (審核申請):** 作為一個活動組織者，我希望能查看所有申請列表，並對申請進行「批准」或「拒絕」。
        * *AC 4.2.1:* 雙方確認（媒合成功）後，系統應自動開啟私人聊天室。
    * **Story 4.3 (管理參與者):** 作為一個活動組織者，我希望能查看已批准的參與者列表，並在必要時移除特定參與者。
    * **Story 4.4 (查看狀態):** 作為一個用戶，我希望能追蹤我的申請狀態（待審核 / 已批准 / 已拒絕等）。
    * **Story 4.5 (取消參與):** 作為一個已批准的參與者，我希望能取消參與活動（離開活動），以便在計劃變更時退出。
        * *AC 4.5.1:* 活動創建者不能離開自己的活動，只能刪除活動。
        * *AC 4.5.2:* 離開活動後，當前參與人數應相應減少。

---

## Epic 5: 溝通與討論 (Communication)

* **目標:** 提供活動內部的統一溝通管道，並在媒合成功後提供私人聊天。
* **用戶故事:**
    * **Story 5.1 (活動討論串):** 作為一個活動參與者（已批准），我希望能活動詳細頁面的討論串中發送和查看即時訊息，以便討論公開行程。
    * **Story 5.2 (私人聊天室):** 作為一個用戶，當我與他人媒合成功後 (Activity Match or Private Match)，我希望能自動開啟一個私人聊天室，以便進行私下協調。
        * *AC 5.2.1:* 聊天室需使用 Socket.IO 支援即時通訊。
        * *AC 5.2.2:* 系統需支援訊息歷史記錄、未讀計數和訊息狀態（已發送/已讀）。

---

## Epic 6: 費用分攤 (Expense Splitting)

* **目標:** 解決旅途中的金錢糾紛，提供透明、自動化的結算工具。
* **用戶故事:**
    * **Story 6.1 (記錄費用):** 作為一個活動參與者，我希望能新增一筆費用記錄（包含類別、金額、說明、付款者），以便追蹤開銷。
    * **Story 6.2 (查看列表):** 作為一個活動參與者，我希望能查看該活動的所有費用列表。
    * **Story 6.3 (自動結算):** 作為一個活動參與者，我希望能點擊「結算」，系統應自動計算出最佳分攤方案（最少轉帳次數）。

---

## Epic 7: 評價系統 (Review System)

* **目標:** 建立信任機制，讓用戶能評估未來的旅伴。
* **用戶故事:**
    * **Story 7.1 (互相評價):** 作為一個用戶，當活動狀態變為「已完成」後，我希望能對其他參與者進行評分和撰寫評語。
        * *AC 7.1.1:* 評分為必填欄位，範圍 1-5 星。
        * *AC 7.1.2:* 評語為必填文字欄位。
        * *AC 7.1.3:* 系統應自動計算被評價者的平均評分。
    * **Story 7.2 (查看評價):** 作為一個用戶，我希望能在他人的個人資料頁上查看該用戶獲得的歷史評價統計。
    * **Story 7.3 (查看平均評分):** 作為一個用戶，我希望能看到其他用戶的平均評分和評價數量，以便評估對方是否可靠。
        * *AC 7.3.1:* 平均評分顯示在個人資料頁面。
        * *AC 7.3.2:* 平均評分以星級與數字形式呈現。