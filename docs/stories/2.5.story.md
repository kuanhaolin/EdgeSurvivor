# Story 2.5: æ´»å‹•åƒèˆ‡ç”³è«‹èˆ‡å¯©æ ¸

## Status

Draft

## Story

**As a** ä½¿ç”¨è€…,
**I want** ç”³è«‹åŠ å…¥æˆ‘æ„Ÿèˆˆè¶£çš„æ´»å‹•ï¼Œä¸¦é™„å¸¶ä¸€æ®µè¨Šæ¯çµ¦å‰µå»ºè€…,
**so that** æˆ‘æœ‰æ©Ÿæœƒæˆç‚ºæ´»å‹•çš„ä¸€å“¡ã€‚

**As a** æ´»å‹•å‰µå»ºè€…,
**I want** å¯©æ ¸ï¼ˆæ‰¹å‡†æˆ–æ‹’çµ•ï¼‰å…¶ä»–ä½¿ç”¨è€…çš„åŠ å…¥ç”³è«‹ï¼Œä¸¦æŸ¥çœ‹æ‰€æœ‰åƒèˆ‡è€…åˆ—è¡¨,
**so that** æˆ‘å¯ä»¥ç¯©é¸å‡ºæœ€é©åˆçš„æ—…ä¼´ã€‚

## Acceptance Criteria

### ç”³è«‹åŠ å…¥æ´»å‹•ï¼ˆä½¿ç”¨è€…è¦–è§’ï¼‰

1. åœ¨æ´»å‹•è©³æƒ…é é¢ï¼Œéå‰µå»ºè€…æ‡‰çœ‹åˆ°ã€Œç”³è«‹åŠ å…¥ã€æŒ‰éˆ•
2. å‰µå»ºè€…ä¸æ‡‰çœ‹åˆ°ã€Œç”³è«‹åŠ å…¥ã€æŒ‰éˆ•ï¼ˆé¡¯ç¤ºã€Œæ‚¨æ˜¯å‰µå»ºè€…ã€æ¨™ç±¤ï¼‰
3. é»æ“Šã€Œç”³è«‹åŠ å…¥ã€å¾Œï¼Œé¡¯ç¤ºç”³è«‹å°è©±æ¡†
4. ç”³è«‹å°è©±æ¡†åŒ…å«ï¼š
   - æ¨™é¡Œï¼šã€Œç”³è«‹åŠ å…¥æ´»å‹•ã€
   - æ´»å‹•åç¨±é¡¯ç¤º
   - å¤šè¡Œæ–‡å­—è¼¸å…¥æ¡†ï¼ˆ`el-input type="textarea"`ï¼‰ï¼Œç”¨æ–¼è¼¸å…¥ç”³è«‹è¨Šæ¯
   - æç¤ºæ–‡å­—ï¼šã€Œè«‹ç°¡å–®ä»‹ç´¹è‡ªå·±ï¼Œä¸¦èªªæ˜ç‚ºä»€éº¼æƒ³åƒåŠ é€™å€‹æ´»å‹•ã€
   - å­—æ•¸é™åˆ¶ï¼šæœ€å¤š 500 å­—
   - ã€Œé€å‡ºç”³è«‹ã€å’Œã€Œå–æ¶ˆã€æŒ‰éˆ•
5. é€å‡ºç”³è«‹æ™‚ï¼š
   - é©—è­‰ç”³è«‹è¨Šæ¯ä¸ç‚ºç©ºï¼ˆè‡³å°‘ 10 å­—ï¼‰
   - é¡¯ç¤ºè¼‰å…¥ç‹€æ…‹
   - API è«‹æ±‚ï¼š`POST /api/activities/{activity_id}/join` with `{ message }`
6. ç”³è«‹æˆåŠŸå¾Œï¼š
   - é¡¯ç¤ºæˆåŠŸè¨Šæ¯ï¼šã€Œç”³è«‹å·²ç™¼é€ï¼Œç­‰å¾…æ´»å‹•å‰µå»ºè€…å¯©æ ¸ã€
   - é—œé–‰å°è©±æ¡†
   - ã€Œç”³è«‹åŠ å…¥ã€æŒ‰éˆ•è®Šæ›´ç‚ºã€Œå¾…å¯©æ ¸ã€ç‹€æ…‹ï¼ˆç¦ç”¨ï¼Œé¡¯ç¤º pending æ¨™ç±¤ï¼‰
7. ç”³è«‹å¤±æ•—æ™‚ï¼š
   - é¡¯ç¤ºå…·é«”éŒ¯èª¤è¨Šæ¯ï¼ˆä¾‹å¦‚ï¼šã€Œæ´»å‹•äººæ•¸å·²æ»¿ã€ã€ã€Œæ‚¨å·²ç¶“ç”³è«‹æˆ–åƒèˆ‡æ­¤æ´»å‹•ã€ï¼‰
   - ä¿æŒå°è©±æ¡†é–‹å•Ÿ
8. å·²ç”³è«‹æˆ–å·²åŠ å…¥çš„ä½¿ç”¨è€…æ‡‰çœ‹åˆ°å°æ‡‰çš„ç‹€æ…‹æ¨™ç±¤ï¼š
   - `pending`: é¡¯ç¤ºã€Œå¾…å¯©æ ¸ã€æ¨™ç±¤ï¼ˆwarning è‰²ï¼‰
   - `approved` / `joined`: é¡¯ç¤ºã€Œå·²åŠ å…¥ã€æ¨™ç±¤ï¼ˆsuccess è‰²ï¼‰
   - `rejected`: é¡¯ç¤ºã€Œå·²æ‹’çµ•ã€æ¨™ç±¤ï¼ˆdanger è‰²ï¼‰
9. æ´»å‹•äººæ•¸å·²æ»¿æ™‚ï¼Œã€Œç”³è«‹åŠ å…¥ã€æŒ‰éˆ•æ‡‰ç¦ç”¨ï¼Œé¡¯ç¤ºã€Œäººæ•¸å·²æ»¿ã€

### æŸ¥çœ‹å¾…å¯©æ ¸ç”³è«‹ï¼ˆå‰µå»ºè€…è¦–è§’ï¼‰

10. æ´»å‹•å‰µå»ºè€…åœ¨æ´»å‹•è©³æƒ…é æ‡‰çœ‹åˆ°ã€Œå¾…å¯©æ ¸ç”³è«‹ã€å€å¡Š
11. é¡¯ç¤ºå¾…å¯©æ ¸ç”³è«‹æ•¸é‡å¾½ç« ï¼ˆBadgeï¼‰
12. é»æ“Šå±•é–‹å¾…å¯©æ ¸ç”³è«‹åˆ—è¡¨
13. æ¯å€‹ç”³è«‹é …ç›®é¡¯ç¤ºï¼š
    - ç”³è«‹è€…é ­åƒï¼ˆAvatarï¼‰
    - ç”³è«‹è€…åç¨±
    - ç”³è«‹è¨Šæ¯ï¼ˆå¯å±•é–‹/æ”¶åˆï¼‰
    - ç”³è«‹æ™‚é–“ï¼ˆä¾‹å¦‚ï¼šã€Œ2 å°æ™‚å‰ã€ï¼‰
    - ã€Œæ‰¹å‡†ã€æŒ‰éˆ•ï¼ˆsuccess è‰²ï¼‰
    - ã€Œæ‹’çµ•ã€æŒ‰éˆ•ï¼ˆdanger è‰²ï¼‰
14. è‹¥ç„¡å¾…å¯©æ ¸ç”³è«‹ï¼Œé¡¯ç¤ºç©ºç‹€æ…‹ï¼šã€Œç›®å‰æ²’æœ‰å¾…å¯©æ ¸çš„ç”³è«‹ã€

### æ‰¹å‡†/æ‹’çµ•ç”³è«‹ï¼ˆå‰µå»ºè€…è¦–è§’ï¼‰

15. é»æ“Šã€Œæ‰¹å‡†ã€æŒ‰éˆ•ï¼š
    - é¡¯ç¤ºç¢ºèªå°è©±æ¡†ï¼šã€Œç¢ºå®šè¦æ‰¹å‡†æ­¤ç”³è«‹å—ï¼Ÿã€
    - ç¢ºèªå¾Œç™¼é€ API è«‹æ±‚ï¼š`POST /api/activities/{activity_id}/participants/{participant_id}/approve`
16. æ‰¹å‡†æˆåŠŸå¾Œï¼š
    - é¡¯ç¤ºæˆåŠŸè¨Šæ¯ï¼šã€Œå·²æ‰¹å‡†ç”³è«‹ã€
    - è©²ç”³è«‹å¾å¾…å¯©æ ¸åˆ—è¡¨ç§»é™¤
    - åƒèˆ‡è€…åˆ—è¡¨è‡ªå‹•æ›´æ–°ï¼Œæ–°å¢è©²ä½¿ç”¨è€…
    - ç•¶å‰åƒèˆ‡äººæ•¸ +1
17. é»æ“Šã€Œæ‹’çµ•ã€æŒ‰éˆ•ï¼š
    - é¡¯ç¤ºå°è©±æ¡†ï¼ŒåŒ…å«ï¼š
      - æ¨™é¡Œï¼šã€Œæ‹’çµ•ç”³è«‹ã€
      - å¤šè¡Œæ–‡å­—è¼¸å…¥æ¡†ï¼Œç”¨æ–¼è¼¸å…¥æ‹’çµ•åŸå› ï¼ˆé¸å¡«ï¼‰
      - æç¤ºï¼šã€Œæ‚¨å¯ä»¥é¸æ“‡æ€§åœ°å‘ŠçŸ¥æ‹’çµ•åŸå› ã€
      - ã€Œç¢ºå®šæ‹’çµ•ã€å’Œã€Œå–æ¶ˆã€æŒ‰éˆ•
18. æ‹’çµ•æˆåŠŸå¾Œï¼š
    - é¡¯ç¤ºæˆåŠŸè¨Šæ¯ï¼šã€Œå·²æ‹’çµ•ç”³è«‹ã€
    - è©²ç”³è«‹å¾å¾…å¯©æ ¸åˆ—è¡¨ç§»é™¤
19. å¯©æ ¸æ“ä½œå¤±æ•—æ™‚ï¼š
    - é¡¯ç¤ºå…·é«”éŒ¯èª¤è¨Šæ¯ï¼ˆä¾‹å¦‚ï¼šã€Œæ´»å‹•äººæ•¸å·²æ»¿ã€ã€ã€Œæ­¤ç”³è«‹å·²è™•ç†ã€ï¼‰
20. æ‰¹å‡†ç”³è«‹æ™‚ï¼Œè‹¥äººæ•¸å·²æ»¿ï¼Œæ‡‰è¿”å›éŒ¯èª¤ä¸¦é˜»æ­¢æ‰¹å‡†

### åƒèˆ‡è€…åˆ—è¡¨é¡¯ç¤º

21. æ´»å‹•è©³æƒ…é æ‡‰é¡¯ç¤ºã€Œåƒèˆ‡è€…åˆ—è¡¨ã€å€å¡Š
22. é¡¯ç¤ºç•¶å‰åƒèˆ‡äººæ•¸ / æœ€å¤§äººæ•¸ï¼ˆä¾‹å¦‚ï¼šã€Œ3 / 10 äººã€ï¼‰
23. åƒèˆ‡è€…åˆ—è¡¨ä»¥å¡ç‰‡å½¢å¼é¡¯ç¤ºï¼ŒåŒ…å«ï¼š
    - é ­åƒ
    - åç¨±
    - è§’è‰²æ¨™ç±¤ï¼ˆå‰µå»ºè€…é¡¯ç¤ºã€Œå‰µå»ºè€…ã€æ¨™ç±¤ï¼Œåƒèˆ‡è€…ä¸é¡¯ç¤ºï¼‰
    - åŠ å…¥æ™‚é–“
24. å‰µå»ºè€…é¡¯ç¤ºåœ¨åˆ—è¡¨æœ€å‰é¢
25. åˆ—è¡¨æŒ‰åŠ å…¥æ™‚é–“æ’åºï¼ˆå‰µå»ºè€…é™¤å¤–ï¼‰
26. æ”¯æ´éŸ¿æ‡‰å¼è¨­è¨ˆï¼š
    - æ¡Œé¢ï¼š3-4 åˆ—ç¶²æ ¼
    - å¹³æ¿ï¼š2 åˆ—ç¶²æ ¼
    - æ‰‹æ©Ÿï¼š1 åˆ—

### å¾Œç«¯é©—è­‰

27. API æ‡‰é©—è­‰ JWT èªè­‰
28. ç”³è«‹åŠ å…¥æ™‚é©—è­‰ï¼š
    - æ´»å‹•æ˜¯å¦å­˜åœ¨
    - ä¸èƒ½åŠ å…¥è‡ªå·±å‰µå»ºçš„æ´»å‹•
    - ä¸èƒ½é‡è¤‡ç”³è«‹æˆ–åƒèˆ‡
    - äººæ•¸æœªæ»¿
29. å¯©æ ¸ç”³è«‹æ™‚é©—è­‰ï¼š
    - åªæœ‰å‰µå»ºè€…å¯ä»¥å¯©æ ¸
    - ç”³è«‹è¨˜éŒ„å­˜åœ¨ä¸”å±¬æ–¼è©²æ´»å‹•
    - ç”³è«‹ç‹€æ…‹ç‚º `pending`
30. æ‰¹å‡†æ™‚é¡å¤–é©—è­‰äººæ•¸æœªæ»¿

### ä½¿ç”¨è€…é«”é©—

31. æ‰€æœ‰æ“ä½œæ‡‰æœ‰æ˜ç¢ºçš„è¼‰å…¥ç‹€æ…‹æŒ‡ç¤º
32. æˆåŠŸ/éŒ¯èª¤è¨Šæ¯æ‡‰æ¸…æ™°ä¸”å‹å–„
33. å°è©±æ¡†æ‡‰æ”¯æ´ ESC éµé—œé–‰
34. è¡¨å–®é©—è­‰æ‡‰å³æ™‚åé¥‹
35. éŸ¿æ‡‰å¼è¨­è¨ˆé©é…æ‰‹æ©Ÿã€å¹³æ¿ã€æ¡Œé¢

### æ•ˆèƒ½èˆ‡å®‰å…¨æ€§

36. API å›æ‡‰æ™‚é–“éœ€ä½æ–¼ 1000ms
37. åªèƒ½æŸ¥çœ‹/æ“ä½œè‡ªå·±æœ‰æ¬Šé™çš„è³‡æº
38. æ•æ„Ÿæ“ä½œéœ€äºŒæ¬¡ç¢ºèª

## Tasks / Subtasks

> **ğŸ”§ Brownfield å°ˆæ¡ˆèªªæ˜**ï¼šå¾Œç«¯ ActivityParticipant Model å·²å»ºç«‹ï¼Œä¸”ç›¸é—œ API ç«¯é»å·²å¯¦ä½œï¼ˆ`POST /api/activities/<activity_id>/join`ã€`GET /api/activities/<activity_id>/participants/pending`ã€`POST /api/activities/<activity_id>/participants/<participant_id>/approve`ã€`POST /api/activities/<activity_id>/participants/<participant_id>/reject`ï¼‰ã€‚æœ¬ Story è‘—é‡æ–¼**å‰ç«¯ UI å¯¦ä½œ**ã€**å¯©æ ¸æµç¨‹æ•´åˆ**ã€**åƒèˆ‡è€…åˆ—è¡¨é¡¯ç¤º**ï¼Œä»¥åŠ**æ¸¬è©¦**ã€‚

### Phase 1: å¾Œç«¯é©—è­‰èˆ‡ç¢ºèª

- [ ] **Task 1: é©—è­‰ ActivityParticipant Model** (AC: 28, 29, 30)
  - [ ] âœ… ç¢ºèª `backend/models/activity_participant.py` åŒ…å«æ‰€æœ‰å¿…è¦æ¬„ä½
  - [ ] âœ… é©—è­‰æ¬„ä½ï¼š
    - `participant_id` (Primary Key)
    - `activity_id` (Foreign Key)
    - `user_id` (Foreign Key)
    - `status` (String(20), default='pending') - æ”¯æ´ï¼špending, approved, joined, rejected, left, removed
    - `role` (String(20), default='participant') - æ”¯æ´ï¼šcreator, participant
    - `joined_at` (DateTime)
    - `approved_at` (DateTime)
    - `message` (Text) - ç”³è«‹è¨Šæ¯
    - `rejection_reason` (Text) - æ‹’çµ•åŸå› 
  - [ ] âœ… ç¢ºèªå”¯ä¸€ç´„æŸï¼š`unique_activity_user` (ä¸€å€‹ç”¨æˆ¶åœ¨åŒä¸€æ´»å‹•åªèƒ½æœ‰ä¸€æ¢è¨˜éŒ„)
  - [ ] âœ… é©—è­‰æ–¹æ³•ï¼š`approve()`, `reject(reason)`, `leave()`
  - [ ] ğŸ“ è¨˜éŒ„ç•¶å‰å¯¦ä½œç¬¦åˆè¦æ ¼

- [ ] **Task 2: é©—è­‰ç”³è«‹åŠ å…¥ API** (AC: 5, 27, 28)
  - [ ] âœ… ç¢ºèªç«¯é»ï¼š`POST /api/activities/<activity_id>/join`
  - [ ] âœ… é©—è­‰éœ€è¦ JWT èªè­‰ (`@jwt_required()`)
  - [ ] âœ… é©—è­‰è«‹æ±‚ Bodyï¼š`{ message: string }`
  - [ ] âœ… é©—è­‰é‚è¼¯ï¼š
    - æ´»å‹•å­˜åœ¨æª¢æŸ¥
    - ä¸èƒ½åŠ å…¥è‡ªå·±å‰µå»ºçš„æ´»å‹•
    - æª¢æŸ¥æ˜¯å¦å·²åƒèˆ‡/ç”³è«‹ (`is_user_participant()`)
    - äººæ•¸æœªæ»¿æª¢æŸ¥ (`get_participant_count() < max_participants`)
  - [ ] âœ… é©—è­‰å»ºç«‹ `ActivityParticipant` è¨˜éŒ„ï¼Œstatus='pending'
  - [ ] âœ… é©—è­‰å›æ‡‰ï¼š
    ```json
    {
      "message": "ç”³è«‹å·²ç™¼é€ï¼Œç­‰å¾…æ´»å‹•å‰µå»ºè€…å¯©æ ¸",
      "participant_id": 123
    }
    ```
  - [ ] ğŸ“ ç¢ºèªå¯¦ä½œç¬¦åˆ AC

- [ ] **Task 3: é©—è­‰ç²å–å¾…å¯©æ ¸ç”³è«‹ API** (AC: 10, 29)
  - [ ] âœ… ç¢ºèªç«¯é»ï¼š`GET /api/activities/<activity_id>/participants/pending`
  - [ ] âœ… é©—è­‰éœ€è¦ JWT èªè­‰
  - [ ] âœ… é©—è­‰æ¬Šé™ï¼šåªæœ‰å‰µå»ºè€…å¯ä»¥æŸ¥çœ‹ (`activity.creator_id == current_user_id`)
  - [ ] âœ… é©—è­‰ä½¿ç”¨ `activity.get_pending_participants()` ç²å–åˆ—è¡¨
  - [ ] âœ… é©—è­‰å›æ‡‰åŒ…å«ï¼š
    ```json
    {
      "pending_participants": [
        {
          "participant_id": 1,
          "user_id": 2,
          "name": "ä½¿ç”¨è€…åç¨±",
          "avatar": "é ­åƒ URL",
          "message": "ç”³è«‹è¨Šæ¯",
          "joined_at": "2025-11-05T10:00:00"
        }
      ]
    }
    ```
  - [ ] ğŸ“ è¨˜éŒ„ API è¦æ ¼

- [ ] **Task 4: é©—è­‰æ‰¹å‡†ç”³è«‹ API** (AC: 15, 16, 29, 30)
  - [ ] âœ… ç¢ºèªç«¯é»ï¼š`POST /api/activities/<activity_id>/participants/<participant_id>/approve`
  - [ ] âœ… é©—è­‰éœ€è¦ JWT èªè­‰
  - [ ] âœ… é©—è­‰æ¬Šé™ï¼šåªæœ‰å‰µå»ºè€…å¯ä»¥æ‰¹å‡†
  - [ ] âœ… é©—è­‰é‚è¼¯ï¼š
    - ç”³è«‹è¨˜éŒ„å­˜åœ¨ä¸”å±¬æ–¼è©²æ´»å‹•
    - ç”³è«‹ç‹€æ…‹ç‚º `pending`
    - äººæ•¸æœªæ»¿æª¢æŸ¥
  - [ ] âœ… é©—è­‰èª¿ç”¨ `participant.approve()`ï¼ˆæ›´æ–° status='approved', approved_at=nowï¼‰
  - [ ] âœ… é©—è­‰å›æ‡‰ï¼š
    ```json
    {
      "message": "å·²æ‰¹å‡†ç”³è«‹",
      "current_participants": 4
    }
    ```
  - [ ] ğŸ“ ç¢ºèªå¯¦ä½œç¬¦åˆ AC

- [ ] **Task 5: é©—è­‰æ‹’çµ•ç”³è«‹ API** (AC: 17, 18, 29)
  - [ ] âœ… ç¢ºèªç«¯é»ï¼š`POST /api/activities/<activity_id>/participants/<participant_id>/reject`
  - [ ] âœ… é©—è­‰éœ€è¦ JWT èªè­‰
  - [ ] âœ… é©—è­‰è«‹æ±‚ Bodyï¼š`{ reason?: string }` (é¸å¡«)
  - [ ] âœ… é©—è­‰æ¬Šé™ï¼šåªæœ‰å‰µå»ºè€…å¯ä»¥æ‹’çµ•
  - [ ] âœ… é©—è­‰é‚è¼¯ï¼š
    - ç”³è«‹è¨˜éŒ„å­˜åœ¨ä¸”å±¬æ–¼è©²æ´»å‹•
    - ç”³è«‹ç‹€æ…‹ç‚º `pending`
  - [ ] âœ… é©—è­‰èª¿ç”¨ `participant.reject(reason)`ï¼ˆæ›´æ–° status='rejected', rejection_reasonï¼‰
  - [ ] âœ… é©—è­‰å›æ‡‰ï¼š`{ "message": "å·²æ‹’çµ•ç”³è«‹" }`
  - [ ] ğŸ“ ç¢ºèªå¯¦ä½œç¬¦åˆ AC

### Phase 2: å‰ç«¯ API æœå‹™å±¤

- [ ] **Task 6: å»ºç«‹æ´»å‹•åƒèˆ‡ç›¸é—œ API å‡½æ•¸** (AC: 5, 10, 15, 17)
  - [ ] â• åœ¨ `frontend/src/api/activities.js` æ·»åŠ å‡½æ•¸ï¼š
    ```javascript
    /**
     * ç”³è«‹åŠ å…¥æ´»å‹•
     * @param {number} activityId - æ´»å‹• ID
     * @param {Object} data - ç”³è«‹è³‡æ–™ { message: string }
     * @returns {Promise}
     */
    export const joinActivity = (activityId, data) => {
      return axios.post(`/activities/${activityId}/join`, data)
    }
    
    /**
     * ç²å–å¾…å¯©æ ¸ç”³è«‹åˆ—è¡¨ï¼ˆåƒ…å‰µå»ºè€…ï¼‰
     * @param {number} activityId - æ´»å‹• ID
     * @returns {Promise}
     */
    export const getPendingParticipants = (activityId) => {
      return axios.get(`/activities/${activityId}/participants/pending`)
    }
    
    /**
     * æ‰¹å‡†åƒèˆ‡ç”³è«‹
     * @param {number} activityId - æ´»å‹• ID
     * @param {number} participantId - åƒèˆ‡è€…è¨˜éŒ„ ID
     * @returns {Promise}
     */
    export const approveParticipant = (activityId, participantId) => {
      return axios.post(`/activities/${activityId}/participants/${participantId}/approve`)
    }
    
    /**
     * æ‹’çµ•åƒèˆ‡ç”³è«‹
     * @param {number} activityId - æ´»å‹• ID
     * @param {number} participantId - åƒèˆ‡è€…è¨˜éŒ„ ID
     * @param {Object} data - æ‹’çµ•è³‡æ–™ { reason?: string }
     * @returns {Promise}
     */
    export const rejectParticipant = (activityId, participantId, data = {}) => {
      return axios.post(`/activities/${activityId}/participants/${participantId}/reject`, data)
    }
    ```
  - [ ] ğŸ§ª æ¸¬è©¦ API å‡½æ•¸æ˜¯å¦æ­£ç¢ºåŒ¯å‡º

### Phase 3: å‰ç«¯çµ„ä»¶ - ç”³è«‹åŠ å…¥å°è©±æ¡†

- [ ] **Task 7: å»ºç«‹ç”³è«‹åŠ å…¥å°è©±æ¡†çµ„ä»¶** (AC: 3, 4, 5, 6, 7)
  - [ ] â• åœ¨ `frontend/src/components/activity/` å»ºç«‹ `JoinActivityDialog.vue`
  - [ ] â• å¯¦ä½œçµ„ä»¶çµæ§‹ï¼š
    ```vue
    <template>
      <el-dialog
        v-model="visible"
        title="ç”³è«‹åŠ å…¥æ´»å‹•"
        width="500px"
        @close="handleClose"
      >
        <div class="join-dialog">
          <div class="activity-info">
            <h4>{{ activityTitle }}</h4>
          </div>
          
          <el-form
            ref="formRef"
            :model="form"
            :rules="rules"
            label-position="top"
          >
            <el-form-item label="ç”³è«‹è¨Šæ¯" prop="message">
              <el-input
                v-model="form.message"
                type="textarea"
                :rows="5"
                maxlength="500"
                show-word-limit
                placeholder="è«‹ç°¡å–®ä»‹ç´¹è‡ªå·±ï¼Œä¸¦èªªæ˜ç‚ºä»€éº¼æƒ³åƒåŠ é€™å€‹æ´»å‹•"
              />
            </el-form-item>
          </el-form>
        </div>
        
        <template #footer>
          <el-button @click="handleClose">å–æ¶ˆ</el-button>
          <el-button
            type="primary"
            :loading="loading"
            @click="handleSubmit"
          >
            é€å‡ºç”³è«‹
          </el-button>
        </template>
      </el-dialog>
    </template>
    
    <script setup>
    import { ref, watch } from 'vue'
    import { ElMessage } from 'element-plus'
    import { joinActivity } from '@/api/activities'
    
    // Props
    const props = defineProps({
      modelValue: Boolean,
      activityId: {
        type: Number,
        required: true
      },
      activityTitle: {
        type: String,
        required: true
      }
    })
    
    // Emits
    const emit = defineEmits(['update:modelValue', 'success'])
    
    // Data
    const visible = ref(false)
    const loading = ref(false)
    const formRef = ref(null)
    const form = ref({
      message: ''
    })
    
    // Validation rules
    const rules = {
      message: [
        { required: true, message: 'è«‹è¼¸å…¥ç”³è«‹è¨Šæ¯', trigger: 'blur' },
        { min: 10, message: 'ç”³è«‹è¨Šæ¯è‡³å°‘éœ€è¦ 10 å€‹å­—', trigger: 'blur' }
      ]
    }
    
    // Watch modelValue
    watch(() => props.modelValue, (val) => {
      visible.value = val
    })
    
    watch(visible, (val) => {
      emit('update:modelValue', val)
      if (!val) {
        // é‡ç½®è¡¨å–®
        form.value.message = ''
        formRef.value?.resetFields()
      }
    })
    
    // Methods
    const handleClose = () => {
      visible.value = false
    }
    
    const handleSubmit = async () => {
      try {
        // é©—è­‰è¡¨å–®
        await formRef.value.validate()
        
        loading.value = true
        
        // ç™¼é€ç”³è«‹
        await joinActivity(props.activityId, {
          message: form.value.message
        })
        
        ElMessage.success('ç”³è«‹å·²ç™¼é€ï¼Œç­‰å¾…æ´»å‹•å‰µå»ºè€…å¯©æ ¸')
        emit('success')
        handleClose()
      } catch (error) {
        if (error.response) {
          ElMessage.error(error.response.data.error || 'ç”³è«‹å¤±æ•—')
        } else if (!error.message) {
          // è¡¨å–®é©—è­‰å¤±æ•—
          console.log('è¡¨å–®é©—è­‰å¤±æ•—')
        }
      } finally {
        loading.value = false
      }
    }
    </script>
    
    <style lang="scss" scoped>
    .join-dialog {
      .activity-info {
        margin-bottom: var(--spacing-md);
        padding: var(--spacing-md);
        background: var(--el-fill-color-light);
        border-radius: var(--border-radius-base);
        
        h4 {
          margin: 0;
          font-size: var(--font-size-h4);
          color: var(--el-text-color-primary);
        }
      }
    }
    </style>
    ```
  - [ ] ğŸ§ª æ¸¬è©¦å°è©±æ¡†é–‹å•Ÿ/é—œé–‰
  - [ ] ğŸ§ª æ¸¬è©¦è¡¨å–®é©—è­‰ï¼ˆç©ºè¨Šæ¯ã€å°‘æ–¼ 10 å­—ï¼‰
  - [ ] ğŸ§ª æ¸¬è©¦é€å‡ºç”³è«‹æµç¨‹

### Phase 4: å‰ç«¯çµ„ä»¶ - å¾…å¯©æ ¸ç”³è«‹åˆ—è¡¨

- [ ] **Task 8: å»ºç«‹å¾…å¯©æ ¸ç”³è«‹åˆ—è¡¨çµ„ä»¶** (AC: 10, 11, 12, 13, 14)
  - [ ] â• åœ¨ `frontend/src/components/activity/` å»ºç«‹ `PendingApplications.vue`
  - [ ] â• å¯¦ä½œçµ„ä»¶çµæ§‹ï¼š
    ```vue
    <template>
      <div class="pending-applications">
        <el-collapse v-model="activeNames">
          <el-collapse-item name="pending">
            <template #title>
              <div class="collapse-title">
                <span>å¾…å¯©æ ¸ç”³è«‹</span>
                <el-badge
                  v-if="pendingList.length > 0"
                  :value="pendingList.length"
                  class="badge"
                  type="warning"
                />
              </div>
            </template>
            
            <!-- ç©ºç‹€æ…‹ -->
            <el-empty
              v-if="pendingList.length === 0"
              description="ç›®å‰æ²’æœ‰å¾…å¯©æ ¸çš„ç”³è«‹"
              :image-size="100"
            />
            
            <!-- ç”³è«‹åˆ—è¡¨ -->
            <div v-else class="applications-list">
              <div
                v-for="application in pendingList"
                :key="application.participant_id"
                class="application-item"
              >
                <!-- ç”³è«‹è€…è³‡è¨Š -->
                <div class="applicant-info">
                  <el-avatar
                    :src="application.avatar"
                    :size="50"
                  >
                    {{ application.name?.charAt(0) }}
                  </el-avatar>
                  
                  <div class="info-content">
                    <h4 class="name">{{ application.name }}</h4>
                    <span class="time">{{ formatTime(application.joined_at) }}</span>
                  </div>
                </div>
                
                <!-- ç”³è«‹è¨Šæ¯ -->
                <div class="message">
                  <p>{{ application.message }}</p>
                </div>
                
                <!-- æ“ä½œæŒ‰éˆ• -->
                <div class="actions">
                  <el-button
                    type="success"
                    size="small"
                    :loading="approving === application.participant_id"
                    @click="handleApprove(application)"
                  >
                    æ‰¹å‡†
                  </el-button>
                  <el-button
                    type="danger"
                    size="small"
                    :loading="rejecting === application.participant_id"
                    @click="handleReject(application)"
                  >
                    æ‹’çµ•
                  </el-button>
                </div>
              </div>
            </div>
          </el-collapse-item>
        </el-collapse>
      </div>
    </template>
    
    <script setup>
    import { ref, computed, onMounted } from 'vue'
    import { ElMessage, ElMessageBox } from 'element-plus'
    import {
      getPendingParticipants,
      approveParticipant,
      rejectParticipant
    } from '@/api/activities'
    import dayjs from 'dayjs'
    import relativeTime from 'dayjs/plugin/relativeTime'
    import 'dayjs/locale/zh-tw'
    
    dayjs.extend(relativeTime)
    dayjs.locale('zh-tw')
    
    // Props
    const props = defineProps({
      activityId: {
        type: Number,
        required: true
      }
    })
    
    // Emits
    const emit = defineEmits(['approved', 'rejected'])
    
    // Data
    const activeNames = ref(['pending'])
    const pendingList = ref([])
    const loading = ref(false)
    const approving = ref(null)
    const rejecting = ref(null)
    
    // Methods
    const fetchPendingApplications = async () => {
      try {
        loading.value = true
        const response = await getPendingParticipants(props.activityId)
        pendingList.value = response.data.pending_participants || []
      } catch (error) {
        console.error('ç²å–å¾…å¯©æ ¸ç”³è«‹å¤±æ•—:', error)
      } finally {
        loading.value = false
      }
    }
    
    const formatTime = (timestamp) => {
      return dayjs(timestamp).fromNow()
    }
    
    const handleApprove = async (application) => {
      try {
        await ElMessageBox.confirm(
          'ç¢ºå®šè¦æ‰¹å‡†æ­¤ç”³è«‹å—ï¼Ÿ',
          'æ‰¹å‡†ç”³è«‹',
          {
            confirmButtonText: 'ç¢ºå®šæ‰¹å‡†',
            cancelButtonText: 'å–æ¶ˆ',
            type: 'success'
          }
        )
        
        approving.value = application.participant_id
        
        await approveParticipant(props.activityId, application.participant_id)
        
        ElMessage.success('å·²æ‰¹å‡†ç”³è«‹')
        
        // å¾åˆ—è¡¨ä¸­ç§»é™¤
        pendingList.value = pendingList.value.filter(
          item => item.participant_id !== application.participant_id
        )
        
        emit('approved', application)
      } catch (error) {
        if (error !== 'cancel') {
          console.error('æ‰¹å‡†ç”³è«‹å¤±æ•—:', error)
        }
      } finally {
        approving.value = null
      }
    }
    
    const handleReject = async (application) => {
      try {
        const { value: reason } = await ElMessageBox.prompt(
          'æ‚¨å¯ä»¥é¸æ“‡æ€§åœ°å‘ŠçŸ¥æ‹’çµ•åŸå› ',
          'æ‹’çµ•ç”³è«‹',
          {
            confirmButtonText: 'ç¢ºå®šæ‹’çµ•',
            cancelButtonText: 'å–æ¶ˆ',
            inputType: 'textarea',
            inputPlaceholder: 'è«‹è¼¸å…¥æ‹’çµ•åŸå› ï¼ˆé¸å¡«ï¼‰',
            inputValidator: null // ä¸é©—è­‰ï¼ŒåŸå› å¯é¸å¡«
          }
        )
        
        rejecting.value = application.participant_id
        
        await rejectParticipant(props.activityId, application.participant_id, {
          reason: reason || ''
        })
        
        ElMessage.success('å·²æ‹’çµ•ç”³è«‹')
        
        // å¾åˆ—è¡¨ä¸­ç§»é™¤
        pendingList.value = pendingList.value.filter(
          item => item.participant_id !== application.participant_id
        )
        
        emit('rejected', application)
      } catch (error) {
        if (error !== 'cancel') {
          console.error('æ‹’çµ•ç”³è«‹å¤±æ•—:', error)
        }
      } finally {
        rejecting.value = null
      }
    }
    
    // Lifecycle
    onMounted(() => {
      fetchPendingApplications()
    })
    
    // Expose methods for parent component
    defineExpose({
      fetchPendingApplications
    })
    </script>
    
    <style lang="scss" scoped>
    .pending-applications {
      margin-bottom: var(--spacing-lg);
      
      .collapse-title {
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
        font-weight: 600;
      }
      
      .applications-list {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-md);
      }
      
      .application-item {
        padding: var(--spacing-md);
        background: var(--el-fill-color-light);
        border-radius: var(--border-radius-base);
        border: 1px solid var(--el-border-color-lighter);
        
        .applicant-info {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          margin-bottom: var(--spacing-sm);
          
          .info-content {
            flex: 1;
            
            .name {
              margin: 0;
              font-size: var(--font-size-body);
              font-weight: 600;
              color: var(--el-text-color-primary);
            }
            
            .time {
              font-size: var(--font-size-small);
              color: var(--el-text-color-secondary);
            }
          }
        }
        
        .message {
          margin-bottom: var(--spacing-md);
          padding: var(--spacing-sm);
          background: var(--el-bg-color);
          border-radius: var(--border-radius-small);
          
          p {
            margin: 0;
            font-size: var(--font-size-body);
            color: var(--el-text-color-regular);
            line-height: 1.6;
          }
        }
        
        .actions {
          display: flex;
          justify-content: flex-end;
          gap: var(--spacing-sm);
        }
      }
    }
    </style>
    ```
  - [ ] ğŸ§ª æ¸¬è©¦è¼‰å…¥å¾…å¯©æ ¸ç”³è«‹åˆ—è¡¨
  - [ ] ğŸ§ª æ¸¬è©¦ç©ºç‹€æ…‹é¡¯ç¤º
  - [ ] ğŸ§ª æ¸¬è©¦å±•é–‹/æ”¶åˆ

### Phase 5: å‰ç«¯çµ„ä»¶ - åƒèˆ‡è€…åˆ—è¡¨

- [ ] **Task 9: å»ºç«‹åƒèˆ‡è€…åˆ—è¡¨çµ„ä»¶** (AC: 21, 22, 23, 24, 25, 26)
  - [ ] â• åœ¨ `frontend/src/components/activity/` å»ºç«‹æˆ–æ›´æ–° `ParticipantList.vue`
  - [ ] â• å¯¦ä½œçµ„ä»¶çµæ§‹ï¼š
    ```vue
    <template>
      <div class="participant-list">
        <div class="list-header">
          <h3>åƒèˆ‡è€…åˆ—è¡¨</h3>
          <el-tag type="info" size="large">
            {{ currentCount }} / {{ maxCount }} äºº
          </el-tag>
        </div>
        
        <div class="participants-grid">
          <div
            v-for="participant in sortedParticipants"
            :key="participant.user_id"
            class="participant-card"
          >
            <el-avatar
              :src="participant.avatar"
              :size="60"
            >
              {{ participant.name?.charAt(0) }}
            </el-avatar>
            
            <div class="participant-info">
              <h4 class="name">{{ participant.name }}</h4>
              
              <el-tag
                v-if="participant.role === 'creator'"
                type="warning"
                size="small"
                effect="dark"
              >
                å‰µå»ºè€…
              </el-tag>
              
              <span class="joined-time">
                {{ formatJoinedTime(participant.joined_at) }}
              </span>
            </div>
          </div>
        </div>
        
        <el-empty
          v-if="participants.length === 0"
          description="ç›®å‰æ²’æœ‰åƒèˆ‡è€…"
          :image-size="100"
        />
      </div>
    </template>
    
    <script setup>
    import { computed } from 'vue'
    import dayjs from 'dayjs'
    
    // Props
    const props = defineProps({
      participants: {
        type: Array,
        default: () => []
      },
      currentCount: {
        type: Number,
        default: 0
      },
      maxCount: {
        type: Number,
        required: true
      }
    })
    
    // Computed
    const sortedParticipants = computed(() => {
      // å‰µå»ºè€…æ’åœ¨æœ€å‰é¢ï¼Œå…¶ä»–æŒ‰åŠ å…¥æ™‚é–“æ’åº
      const creator = props.participants.find(p => p.role === 'creator')
      const others = props.participants
        .filter(p => p.role !== 'creator')
        .sort((a, b) => new Date(a.joined_at) - new Date(b.joined_at))
      
      return creator ? [creator, ...others] : others
    })
    
    // Methods
    const formatJoinedTime = (timestamp) => {
      return dayjs(timestamp).format('YYYY-MM-DD åŠ å…¥')
    }
    </script>
    
    <style lang="scss" scoped>
    .participant-list {
      .list-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: var(--spacing-md);
        
        h3 {
          margin: 0;
          font-size: var(--font-size-h3);
          color: var(--el-text-color-primary);
        }
      }
      
      .participants-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: var(--spacing-md);
      }
      
      .participant-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: var(--spacing-md);
        background: var(--el-fill-color-light);
        border-radius: var(--border-radius-base);
        border: 1px solid var(--el-border-color-lighter);
        transition: all 0.3s;
        
        &:hover {
          box-shadow: var(--el-box-shadow-light);
        }
        
        .participant-info {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: var(--spacing-xs);
          margin-top: var(--spacing-sm);
          text-align: center;
          
          .name {
            margin: 0;
            font-size: var(--font-size-body);
            font-weight: 600;
            color: var(--el-text-color-primary);
          }
          
          .joined-time {
            font-size: var(--font-size-small);
            color: var(--el-text-color-secondary);
          }
        }
      }
    }
    
    // éŸ¿æ‡‰å¼è¨­è¨ˆ
    @media (max-width: 1024px) {
      .participant-list .participants-grid {
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      }
    }
    
    @media (max-width: 768px) {
      .participant-list .participants-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    @media (max-width: 480px) {
      .participant-list .participants-grid {
        grid-template-columns: 1fr;
      }
    }
    </style>
    ```
  - [ ] ğŸ§ª æ¸¬è©¦åƒèˆ‡è€…åˆ—è¡¨é¡¯ç¤º
  - [ ] ğŸ§ª æ¸¬è©¦éŸ¿æ‡‰å¼ä½ˆå±€
  - [ ] ğŸ§ª æ¸¬è©¦å‰µå»ºè€…æ¨™ç±¤å’Œæ’åº

### Phase 6: æ•´åˆåˆ°æ´»å‹•è©³æƒ…é 

- [ ] **Task 10: æ›´æ–° ActivityDetail.vue** (AC: 1, 2, 6, 8, 9, 21)
  - [ ] âœ… ç¢ºèª `frontend/src/views/ActivityDetail.vue` å­˜åœ¨
  - [ ] â• å°å…¥æ–°å»ºç«‹çš„çµ„ä»¶ï¼š
    ```javascript
    import JoinActivityDialog from '@/components/activity/JoinActivityDialog.vue'
    import PendingApplications from '@/components/activity/PendingApplications.vue'
    import ParticipantList from '@/components/activity/ParticipantList.vue'
    ```
  - [ ] â• æ·»åŠ éŸ¿æ‡‰å¼æ•¸æ“šï¼š
    ```javascript
    const showJoinDialog = ref(false)
    const userParticipantStatus = ref(null) // null, 'pending', 'approved', 'joined', 'rejected'
    const pendingApplicationsRef = ref(null)
    ```
  - [ ] â• æ·»åŠ è¨ˆç®—å±¬æ€§ï¼š
    ```javascript
    // æ˜¯å¦ç‚ºå‰µå»ºè€…
    const isCreator = computed(() => {
      return activity.value?.creator_id === authStore.userId
    })
    
    // æ˜¯å¦å¯ä»¥ç”³è«‹åŠ å…¥
    const canJoin = computed(() => {
      if (!activity.value) return false
      if (isCreator.value) return false
      if (userParticipantStatus.value) return false // å·²ç”³è«‹æˆ–å·²åŠ å…¥
      if (activity.value.current_participants >= activity.value.max_participants) {
        return false // äººæ•¸å·²æ»¿
      }
      return true
    })
    
    // åŠ å…¥æŒ‰éˆ•æ–‡å­—
    const joinButtonText = computed(() => {
      if (isCreator.value) return 'æ‚¨æ˜¯å‰µå»ºè€…'
      if (userParticipantStatus.value === 'pending') return 'å¾…å¯©æ ¸'
      if (userParticipantStatus.value === 'approved' || userParticipantStatus.value === 'joined') {
        return 'å·²åŠ å…¥'
      }
      if (userParticipantStatus.value === 'rejected') return 'å·²æ‹’çµ•'
      if (activity.value?.current_participants >= activity.value?.max_participants) {
        return 'äººæ•¸å·²æ»¿'
      }
      return 'ç”³è«‹åŠ å…¥'
    })
    
    // åŠ å…¥æŒ‰éˆ•é¡å‹
    const joinButtonType = computed(() => {
      if (userParticipantStatus.value === 'pending') return 'warning'
      if (userParticipantStatus.value === 'approved' || userParticipantStatus.value === 'joined') {
        return 'success'
      }
      if (userParticipantStatus.value === 'rejected') return 'danger'
      return 'primary'
    })
    ```
  - [ ] â• æ›´æ–° `loadActivity()` å‡½æ•¸ï¼Œæª¢æŸ¥ç”¨æˆ¶åƒèˆ‡ç‹€æ…‹ï¼š
    ```javascript
    const loadActivity = async () => {
      try {
        loading.value = true
        const response = await getActivityDetail(activityId.value)
        activity.value = response.data.activity
        
        // æª¢æŸ¥ç•¶å‰ç”¨æˆ¶çš„åƒèˆ‡ç‹€æ…‹
        checkUserParticipantStatus()
      } catch (error) {
        console.error('è¼‰å…¥æ´»å‹•å¤±æ•—:', error)
        ElMessage.error('è¼‰å…¥æ´»å‹•å¤±æ•—')
      } finally {
        loading.value = false
      }
    }
    
    const checkUserParticipantStatus = () => {
      if (!activity.value || !authStore.userId) {
        userParticipantStatus.value = null
        return
      }
      
      // å¾åƒèˆ‡è€…åˆ—è¡¨ä¸­æŸ¥æ‰¾ç•¶å‰ç”¨æˆ¶
      const participant = activity.value.participants?.find(
        p => p.user_id === authStore.userId
      )
      
      if (participant) {
        userParticipantStatus.value = participant.status
      } else {
        userParticipantStatus.value = null
      }
    }
    ```
  - [ ] â• æ·»åŠ äº‹ä»¶è™•ç†å‡½æ•¸ï¼š
    ```javascript
    const handleJoinClick = () => {
      if (canJoin.value) {
        showJoinDialog.value = true
      }
    }
    
    const handleJoinSuccess = () => {
      // é‡æ–°è¼‰å…¥æ´»å‹•ä»¥æ›´æ–°ç‹€æ…‹
      loadActivity()
    }
    
    const handleApplicationApproved = () => {
      // é‡æ–°è¼‰å…¥æ´»å‹•
      loadActivity()
    }
    
    const handleApplicationRejected = () => {
      // é‡æ–°è¼‰å…¥æ´»å‹•
      loadActivity()
    }
    ```
  - [ ] â• æ›´æ–°æ¨¡æ¿ï¼Œæ·»åŠ  UI å…ƒç´ ï¼š
    ```vue
    <template>
      <div class="activity-detail">
        <!-- æ´»å‹•åŸºæœ¬è³‡è¨Š -->
        <div class="activity-header">
          <!-- ... ç¾æœ‰çš„æ¨™é¡Œã€ç‹€æ…‹ç­‰ ... -->
          
          <!-- ç”³è«‹åŠ å…¥æŒ‰éˆ•ï¼ˆéå‰µå»ºè€…ï¼‰ -->
          <el-button
            v-if="!isCreator"
            :type="joinButtonType"
            :disabled="!canJoin"
            @click="handleJoinClick"
          >
            {{ joinButtonText }}
          </el-button>
          
          <!-- å‰µå»ºè€…æ¨™ç±¤ -->
          <el-tag v-else type="warning" size="large">
            æ‚¨æ˜¯å‰µå»ºè€…
          </el-tag>
        </div>
        
        <!-- å¾…å¯©æ ¸ç”³è«‹ï¼ˆåƒ…å‰µå»ºè€…å¯è¦‹ï¼‰ -->
        <PendingApplications
          v-if="isCreator"
          ref="pendingApplicationsRef"
          :activity-id="activityId"
          @approved="handleApplicationApproved"
          @rejected="handleApplicationRejected"
        />
        
        <!-- åƒèˆ‡è€…åˆ—è¡¨ -->
        <ParticipantList
          :participants="activity.participants || []"
          :current-count="activity.current_participants || 0"
          :max-count="activity.max_participants || 0"
        />
        
        <!-- ç”³è«‹åŠ å…¥å°è©±æ¡† -->
        <JoinActivityDialog
          v-model="showJoinDialog"
          :activity-id="activityId"
          :activity-title="activity.title"
          @success="handleJoinSuccess"
        />
      </div>
    </template>
    ```
  - [ ] ğŸ§ª æ¸¬è©¦æ•´åˆå¾Œçš„åŠŸèƒ½

### Phase 7: æ¸¬è©¦

- [ ] **Task 11: å‰ç«¯å–®å…ƒæ¸¬è©¦** (AC: æ‰€æœ‰)
  - [ ] â• åœ¨ `frontend/tests/unit/components/activity/` å»ºç«‹ `JoinActivityDialog.spec.js`
  - [ ] â• å¯¦ä½œæ¸¬è©¦æ¡ˆä¾‹ï¼š
    - [ ] æ¸¬è©¦å°è©±æ¡†é–‹å•Ÿ/é—œé–‰
    - [ ] æ¸¬è©¦è¡¨å–®é©—è­‰ï¼ˆç©ºè¨Šæ¯ã€å°‘æ–¼ 10 å­—ï¼‰
    - [ ] æ¸¬è©¦é€å‡ºç”³è«‹ï¼ˆMock APIï¼‰
    - [ ] æ¸¬è©¦æˆåŠŸå¾Œè§¸ç™¼ success äº‹ä»¶
    - [ ] æ¸¬è©¦éŒ¯èª¤è™•ç†
  - [ ] â• åœ¨ `frontend/tests/unit/components/activity/` å»ºç«‹ `PendingApplications.spec.js`
  - [ ] â• å¯¦ä½œæ¸¬è©¦æ¡ˆä¾‹ï¼š
    - [ ] æ¸¬è©¦è¼‰å…¥å¾…å¯©æ ¸åˆ—è¡¨
    - [ ] æ¸¬è©¦ç©ºç‹€æ…‹é¡¯ç¤º
    - [ ] æ¸¬è©¦æ‰¹å‡†ç”³è«‹ç¢ºèªå°è©±æ¡†
    - [ ] æ¸¬è©¦æ‹’çµ•ç”³è«‹å°è©±æ¡†
    - [ ] æ¸¬è©¦æ‰¹å‡†/æ‹’çµ•å¾Œè§¸ç™¼äº‹ä»¶
  - [ ] â• åœ¨ `frontend/tests/unit/components/activity/` å»ºç«‹ `ParticipantList.spec.js`
  - [ ] â• å¯¦ä½œæ¸¬è©¦æ¡ˆä¾‹ï¼š
    - [ ] æ¸¬è©¦åƒèˆ‡è€…åˆ—è¡¨é¡¯ç¤º
    - [ ] æ¸¬è©¦å‰µå»ºè€…æ’åºï¼ˆç¬¬ä¸€ä½ï¼‰
    - [ ] æ¸¬è©¦åƒèˆ‡è€…æŒ‰åŠ å…¥æ™‚é–“æ’åº
    - [ ] æ¸¬è©¦éŸ¿æ‡‰å¼ä½ˆå±€
  - [ ] â• æ›´æ–° `frontend/tests/unit/views/ActivityDetail.spec.js`
  - [ ] â• å¯¦ä½œæ¸¬è©¦æ¡ˆä¾‹ï¼š
    - [ ] æ¸¬è©¦å‰µå»ºè€…ä¸é¡¯ç¤ºã€Œç”³è«‹åŠ å…¥ã€æŒ‰éˆ•
    - [ ] æ¸¬è©¦éå‰µå»ºè€…é¡¯ç¤ºã€Œç”³è«‹åŠ å…¥ã€æŒ‰éˆ•
    - [ ] æ¸¬è©¦å·²ç”³è«‹ç‹€æ…‹é¡¯ç¤ºã€Œå¾…å¯©æ ¸ã€
    - [ ] æ¸¬è©¦å·²åŠ å…¥ç‹€æ…‹é¡¯ç¤ºã€Œå·²åŠ å…¥ã€
    - [ ] æ¸¬è©¦äººæ•¸å·²æ»¿æ™‚æŒ‰éˆ•ç¦ç”¨
    - [ ] æ¸¬è©¦å‰µå»ºè€…é¡¯ç¤ºå¾…å¯©æ ¸ç”³è«‹å€å¡Š
    - [ ] æ¸¬è©¦éå‰µå»ºè€…ä¸é¡¯ç¤ºå¾…å¯©æ ¸ç”³è«‹å€å¡Š
  - [ ] ğŸ§ª åŸ·è¡Œæ¸¬è©¦ï¼š`npm run test:unit`
  - [ ] ğŸ“Š ç¢ºèªè¦†è“‹ç‡ > 80%

- [ ] **Task 12: å¾Œç«¯æ¸¬è©¦è£œå……** (AC: 27, 28, 29, 30)
  - [ ] âœ… ç¢ºèª `backend/tests/test_activities.py` å­˜åœ¨
  - [ ] â• æ·»åŠ æ¸¬è©¦æ¡ˆä¾‹ï¼š
    ```python
    def test_join_activity_success(client, auth_headers, test_activity):
        """æ¸¬è©¦æˆåŠŸç”³è«‹åŠ å…¥æ´»å‹•"""
        response = client.post(
            f'/api/activities/{test_activity.activity_id}/join',
            json={'message': 'æˆ‘å¾ˆæƒ³åƒåŠ é€™å€‹æ´»å‹•ï¼'},
            headers=auth_headers['user2']
        )
        assert response.status_code == 200
        assert 'ç”³è«‹å·²ç™¼é€' in response.json['message']
    
    def test_join_own_activity(client, auth_headers, test_activity):
        """æ¸¬è©¦ä¸èƒ½åŠ å…¥è‡ªå·±å‰µå»ºçš„æ´»å‹•"""
        response = client.post(
            f'/api/activities/{test_activity.activity_id}/join',
            json={'message': 'æ¸¬è©¦'},
            headers=auth_headers['creator']
        )
        assert response.status_code == 400
        assert 'ä¸èƒ½åŠ å…¥è‡ªå·±å‰µå»ºçš„æ´»å‹•' in response.json['error']
    
    def test_join_activity_twice(client, auth_headers, test_activity):
        """æ¸¬è©¦ä¸èƒ½é‡è¤‡ç”³è«‹"""
        # ç¬¬ä¸€æ¬¡ç”³è«‹
        client.post(
            f'/api/activities/{test_activity.activity_id}/join',
            json={'message': 'æˆ‘æƒ³åƒåŠ '},
            headers=auth_headers['user2']
        )
        
        # ç¬¬äºŒæ¬¡ç”³è«‹
        response = client.post(
            f'/api/activities/{test_activity.activity_id}/join',
            json={'message': 'æˆ‘æƒ³åƒåŠ '},
            headers=auth_headers['user2']
        )
        assert response.status_code == 400
        assert 'å·²ç¶“ç”³è«‹æˆ–åƒèˆ‡' in response.json['error']
    
    def test_join_full_activity(client, auth_headers, full_activity):
        """æ¸¬è©¦äººæ•¸å·²æ»¿æ™‚ç„¡æ³•ç”³è«‹"""
        response = client.post(
            f'/api/activities/{full_activity.activity_id}/join',
            json={'message': 'æˆ‘æƒ³åƒåŠ '},
            headers=auth_headers['user2']
        )
        assert response.status_code == 400
        assert 'äººæ•¸å·²æ»¿' in response.json['error']
    
    def test_get_pending_participants_as_creator(client, auth_headers, test_activity_with_pending):
        """æ¸¬è©¦å‰µå»ºè€…ç²å–å¾…å¯©æ ¸ç”³è«‹"""
        response = client.get(
            f'/api/activities/{test_activity_with_pending.activity_id}/participants/pending',
            headers=auth_headers['creator']
        )
        assert response.status_code == 200
        assert len(response.json['pending_participants']) > 0
    
    def test_get_pending_participants_as_non_creator(client, auth_headers, test_activity_with_pending):
        """æ¸¬è©¦éå‰µå»ºè€…ç„¡æ³•ç²å–å¾…å¯©æ ¸ç”³è«‹"""
        response = client.get(
            f'/api/activities/{test_activity_with_pending.activity_id}/participants/pending',
            headers=auth_headers['user2']
        )
        assert response.status_code == 403
    
    def test_approve_participant_success(client, auth_headers, test_pending_participant):
        """æ¸¬è©¦æˆåŠŸæ‰¹å‡†ç”³è«‹"""
        response = client.post(
            f'/api/activities/{test_pending_participant.activity_id}/participants/{test_pending_participant.participant_id}/approve',
            headers=auth_headers['creator']
        )
        assert response.status_code == 200
        assert 'å·²æ‰¹å‡†ç”³è«‹' in response.json['message']
        
        # é©—è­‰ç‹€æ…‹å·²æ›´æ–°
        participant = ActivityParticipant.query.get(test_pending_participant.participant_id)
        assert participant.status == 'approved'
        assert participant.approved_at is not None
    
    def test_approve_participant_as_non_creator(client, auth_headers, test_pending_participant):
        """æ¸¬è©¦éå‰µå»ºè€…ç„¡æ³•æ‰¹å‡†ç”³è«‹"""
        response = client.post(
            f'/api/activities/{test_pending_participant.activity_id}/participants/{test_pending_participant.participant_id}/approve',
            headers=auth_headers['user2']
        )
        assert response.status_code == 403
    
    def test_approve_already_processed_application(client, auth_headers, test_approved_participant):
        """æ¸¬è©¦ç„¡æ³•é‡è¤‡æ‰¹å‡†å·²è™•ç†çš„ç”³è«‹"""
        response = client.post(
            f'/api/activities/{test_approved_participant.activity_id}/participants/{test_approved_participant.participant_id}/approve',
            headers=auth_headers['creator']
        )
        assert response.status_code == 400
        assert 'å·²è™•ç†' in response.json['error']
    
    def test_reject_participant_success(client, auth_headers, test_pending_participant):
        """æ¸¬è©¦æˆåŠŸæ‹’çµ•ç”³è«‹"""
        response = client.post(
            f'/api/activities/{test_pending_participant.activity_id}/participants/{test_pending_participant.participant_id}/reject',
            json={'reason': 'æŠ±æ­‰ï¼Œäººæ•¸å·²æ»¿'},
            headers=auth_headers['creator']
        )
        assert response.status_code == 200
        assert 'å·²æ‹’çµ•ç”³è«‹' in response.json['message']
        
        # é©—è­‰ç‹€æ…‹å’Œæ‹’çµ•åŸå› 
        participant = ActivityParticipant.query.get(test_pending_participant.participant_id)
        assert participant.status == 'rejected'
        assert participant.rejection_reason == 'æŠ±æ­‰ï¼Œäººæ•¸å·²æ»¿'
    
    def test_reject_participant_without_reason(client, auth_headers, test_pending_participant):
        """æ¸¬è©¦æ‹’çµ•ç”³è«‹æ™‚ä¸æä¾›åŸå› """
        response = client.post(
            f'/api/activities/{test_pending_participant.activity_id}/participants/{test_pending_participant.participant_id}/reject',
            headers=auth_headers['creator']
        )
        assert response.status_code == 200
        
        participant = ActivityParticipant.query.get(test_pending_participant.participant_id)
        assert participant.status == 'rejected'
        assert participant.rejection_reason is None or participant.rejection_reason == ''
    ```
  - [ ] ğŸ§ª åŸ·è¡Œæ¸¬è©¦ï¼š`pytest backend/tests/test_activities.py -v -k "join|participant|approve|reject"`
  - [ ] ğŸ“Š ç¢ºèªæ‰€æœ‰æ¸¬è©¦é€šé

### Phase 8: æ•´åˆæ¸¬è©¦èˆ‡é©—æ”¶

- [ ] **Task 13: ç«¯åˆ°ç«¯åŠŸèƒ½é©—è­‰** (æ‰€æœ‰ AC)
  - [ ] ğŸ§ª æ‰‹å‹•æ¸¬è©¦æ¸…å–®ï¼š
    - [ ] **æ¸¬è©¦ 1**: ä½¿ç”¨è€…ç”³è«‹åŠ å…¥æ´»å‹•
      - ä»¥éå‰µå»ºè€…èº«ä»½ç™»å…¥
      - è¨ªå•æ´»å‹•è©³æƒ…é 
      - é©—è­‰ï¼šé¡¯ç¤ºã€Œç”³è«‹åŠ å…¥ã€æŒ‰éˆ•
      - é»æ“Šã€Œç”³è«‹åŠ å…¥ã€
      - é©—è­‰ï¼šé¡¯ç¤ºç”³è«‹å°è©±æ¡†
      - è¼¸å…¥å°‘æ–¼ 10 å­—çš„è¨Šæ¯
      - é©—è­‰ï¼šé¡¯ç¤ºé©—è­‰éŒ¯èª¤
      - è¼¸å…¥æœ‰æ•ˆçš„ç”³è«‹è¨Šæ¯ï¼ˆè¶…é 10 å­—ï¼‰
      - é»æ“Šã€Œé€å‡ºç”³è«‹ã€
      - é©—è­‰ï¼šé¡¯ç¤ºæˆåŠŸè¨Šæ¯
      - é©—è­‰ï¼šæŒ‰éˆ•è®Šæ›´ç‚ºã€Œå¾…å¯©æ ¸ã€ç‹€æ…‹ï¼ˆç¦ç”¨ï¼‰
    - [ ] **æ¸¬è©¦ 2**: å‰µå»ºè€…æŸ¥çœ‹å¾…å¯©æ ¸ç”³è«‹
      - ä»¥å‰µå»ºè€…èº«ä»½ç™»å…¥
      - è¨ªå•æ´»å‹•è©³æƒ…é 
      - é©—è­‰ï¼šé¡¯ç¤ºã€Œå¾…å¯©æ ¸ç”³è«‹ã€å€å¡Š
      - é©—è­‰ï¼šé¡¯ç¤ºå¾…å¯©æ ¸æ•¸é‡å¾½ç« 
      - é»æ“Šå±•é–‹å¾…å¯©æ ¸åˆ—è¡¨
      - é©—è­‰ï¼šé¡¯ç¤ºç”³è«‹è€…è³‡è¨Šã€è¨Šæ¯ã€ç”³è«‹æ™‚é–“
      - é©—è­‰ï¼šé¡¯ç¤ºã€Œæ‰¹å‡†ã€å’Œã€Œæ‹’çµ•ã€æŒ‰éˆ•
    - [ ] **æ¸¬è©¦ 3**: å‰µå»ºè€…æ‰¹å‡†ç”³è«‹
      - é»æ“Šã€Œæ‰¹å‡†ã€æŒ‰éˆ•
      - é©—è­‰ï¼šé¡¯ç¤ºç¢ºèªå°è©±æ¡†
      - é»æ“Šã€Œç¢ºå®šæ‰¹å‡†ã€
      - é©—è­‰ï¼šé¡¯ç¤ºæˆåŠŸè¨Šæ¯
      - é©—è­‰ï¼šè©²ç”³è«‹å¾å¾…å¯©æ ¸åˆ—è¡¨ç§»é™¤
      - é©—è­‰ï¼šåƒèˆ‡è€…åˆ—è¡¨å¢åŠ è©²ä½¿ç”¨è€…
      - é©—è­‰ï¼šç•¶å‰åƒèˆ‡äººæ•¸ +1
    - [ ] **æ¸¬è©¦ 4**: å‰µå»ºè€…æ‹’çµ•ç”³è«‹
      - é»æ“Šã€Œæ‹’çµ•ã€æŒ‰éˆ•
      - é©—è­‰ï¼šé¡¯ç¤ºè¼¸å…¥æ‹’çµ•åŸå› å°è©±æ¡†
      - è¼¸å…¥æ‹’çµ•åŸå› ï¼ˆæˆ–ç•™ç©ºï¼‰
      - é»æ“Šã€Œç¢ºå®šæ‹’çµ•ã€
      - é©—è­‰ï¼šé¡¯ç¤ºæˆåŠŸè¨Šæ¯
      - é©—è­‰ï¼šè©²ç”³è«‹å¾å¾…å¯©æ ¸åˆ—è¡¨ç§»é™¤
    - [ ] **æ¸¬è©¦ 5**: åƒèˆ‡è€…åˆ—è¡¨é¡¯ç¤º
      - é©—è­‰ï¼šé¡¯ç¤ºã€Œåƒèˆ‡è€…åˆ—è¡¨ã€æ¨™é¡Œ
      - é©—è­‰ï¼šé¡¯ç¤ºã€ŒX / Y äººã€
      - é©—è­‰ï¼šå‰µå»ºè€…é¡¯ç¤ºåœ¨ç¬¬ä¸€ä½ï¼Œæœ‰ã€Œå‰µå»ºè€…ã€æ¨™ç±¤
      - é©—è­‰ï¼šå…¶ä»–åƒèˆ‡è€…æŒ‰åŠ å…¥æ™‚é–“æ’åº
      - é©—è­‰ï¼šæ¯å€‹åƒèˆ‡è€…é¡¯ç¤ºé ­åƒã€åç¨±ã€åŠ å…¥æ™‚é–“
    - [ ] **æ¸¬è©¦ 6**: é‡è¤‡ç”³è«‹é˜²è­·
      - å·²ç”³è«‹éçš„ä½¿ç”¨è€…è¨ªå•æ´»å‹•è©³æƒ…é 
      - é©—è­‰ï¼šã€Œç”³è«‹åŠ å…¥ã€æŒ‰éˆ•ç¦ç”¨æˆ–é¡¯ç¤ºç‹€æ…‹æ¨™ç±¤
    - [ ] **æ¸¬è©¦ 7**: å‰µå»ºè€…ä¸èƒ½ç”³è«‹è‡ªå·±çš„æ´»å‹•
      - å‰µå»ºè€…è¨ªå•è‡ªå·±å‰µå»ºçš„æ´»å‹•
      - é©—è­‰ï¼šä¸é¡¯ç¤ºã€Œç”³è«‹åŠ å…¥ã€æŒ‰éˆ•
      - é©—è­‰ï¼šé¡¯ç¤ºã€Œæ‚¨æ˜¯å‰µå»ºè€…ã€æ¨™ç±¤
    - [ ] **æ¸¬è©¦ 8**: äººæ•¸å·²æ»¿
      - æ´»å‹•åƒèˆ‡äººæ•¸é”åˆ°ä¸Šé™
      - å…¶ä»–ä½¿ç”¨è€…è¨ªå•æ´»å‹•è©³æƒ…é 
      - é©—è­‰ï¼šã€Œç”³è«‹åŠ å…¥ã€æŒ‰éˆ•ç¦ç”¨ï¼Œé¡¯ç¤ºã€Œäººæ•¸å·²æ»¿ã€
      - å‰µå»ºè€…å˜—è©¦æ‰¹å‡†æ–°ç”³è«‹
      - é©—è­‰ï¼šè¿”å›éŒ¯èª¤ã€Œæ´»å‹•äººæ•¸å·²æ»¿ã€
    - [ ] **æ¸¬è©¦ 9**: éŸ¿æ‡‰å¼è¨­è¨ˆ
      - åœ¨æ¡Œé¢æ¨¡å¼æŸ¥çœ‹
      - é©—è­‰ï¼šä½ˆå±€æ­£ç¢ºï¼Œåƒèˆ‡è€…åˆ—è¡¨ 3-4 åˆ—
      - åœ¨å¹³æ¿æ¨¡å¼æŸ¥çœ‹
      - é©—è­‰ï¼šåƒèˆ‡è€…åˆ—è¡¨ 2 åˆ—
      - åœ¨æ‰‹æ©Ÿæ¨¡å¼æŸ¥çœ‹
      - é©—è­‰ï¼šåƒèˆ‡è€…åˆ—è¡¨ 1 åˆ—ï¼Œæ‰€æœ‰å…ƒç´ æ­£ç¢ºé¡¯ç¤º
    - [ ] **æ¸¬è©¦ 10**: æ¬Šé™é©—è­‰
      - éå‰µå»ºè€…å˜—è©¦é€é API ç²å–å¾…å¯©æ ¸ç”³è«‹
      - é©—è­‰ï¼šè¿”å› 403 éŒ¯èª¤
      - éå‰µå»ºè€…å˜—è©¦æ‰¹å‡†/æ‹’çµ•ç”³è«‹
      - é©—è­‰ï¼šè¿”å› 403 éŒ¯èª¤
    - [ ] **æ¸¬è©¦ 11**: æ•ˆèƒ½æ¸¬è©¦
      - ä½¿ç”¨ DevTools Network é¢æ¿
      - é©—è­‰ï¼šAPI å›æ‡‰æ™‚é–“ < 1000ms
  - [ ] ğŸ“Š é©—è­‰æ‰€æœ‰ AC æ»¿è¶³
  - [ ] ğŸ“ è¨˜éŒ„æ‰€æœ‰æ¸¬è©¦çµæœ

### åœ–ä¾‹èªªæ˜
- âœ… **å·²å­˜åœ¨ä¸”æ­£ç¢º** - é©—è­‰é€šéå³å¯
- âš ï¸ **éœ€è¦æª¢æŸ¥** - å¯èƒ½éœ€è¦èª¿æ•´
- â• **éœ€è¦æ–°å¢** - ç¼ºå¤±çš„åŠŸèƒ½
- ğŸ”„ **éœ€è¦é‡æ§‹** - éœ€è¦æ”¹é€²ç¾æœ‰å¯¦ä½œ
- ğŸ“ **è¨˜éŒ„** - æ–‡ä»¶åŒ–ç™¼ç¾
- ğŸ§ª **æ¸¬è©¦** - åŸ·è¡Œæ¸¬è©¦
- ğŸ“Š **é©—è­‰** - ç¢ºèªç¬¦åˆéœ€æ±‚

## Dev Notes

### Previous Story Insights

**ä¾†è‡ª Story 1.1 - 2.4 çš„ç¶“é©—**ï¼š
- âœ… Vue 3 Composition API æ˜¯æ¨™æº–é–‹ç™¼æ¨¡å¼
- âœ… Element Plus çµ„ä»¶åº«å·²æ•´åˆï¼ˆ`el-dialog`, `el-form`, `el-input`, `el-button`, `el-tag`, `el-badge`, `el-collapse`, `el-avatar`, `el-empty`ï¼‰
- âœ… Pinia Auth Store å·²å»ºç«‹ï¼Œç”¨æ–¼ç®¡ç†èªè­‰ç‹€æ…‹å’Œç”¨æˆ¶è³‡è¨Š
- âœ… JWT èªè­‰æ©Ÿåˆ¶å®Œå–„ï¼ˆ`@jwt_required()` è£é£¾å™¨ï¼‰
- âœ… Axios æ””æˆªå™¨å·²é…ç½®ï¼Œè™•ç†èªè­‰å’ŒéŒ¯èª¤
- âœ… ç¢ºèªæ©Ÿåˆ¶ï¼šé‡è¦æ“ä½œä½¿ç”¨ `ElMessageBox.confirm()` å’Œ `ElMessageBox.prompt()`
- âœ… Day.js å·²æ•´åˆï¼Œç”¨æ–¼æ—¥æœŸæ ¼å¼åŒ–å’Œç›¸å°æ™‚é–“é¡¯ç¤º
- âœ… éŸ¿æ‡‰å¼è¨­è¨ˆæ¨¡å¼å·²ç¢ºç«‹
- âœ… éŒ¯èª¤è™•ç†æ¨¡å¼ï¼šå¾Œç«¯è¿”å›å…·é«”éŒ¯èª¤ï¼Œå‰ç«¯é¡¯ç¤ºå‹å–„è¨Šæ¯

**Brownfield å°ˆæ¡ˆèƒŒæ™¯**ï¼š
- å¾Œç«¯ ActivityParticipant Model å·²å®Œæ•´å¯¦ä½œ
- ç›¸é—œ API ç«¯é»å·²å»ºç«‹ï¼ˆjoin, pending, approve, rejectï¼‰
- å‰ç«¯ `ActivityDetail.vue` å·²å­˜åœ¨ï¼Œéœ€è¦æ•´åˆæ–°åŠŸèƒ½
- ä¸»è¦å·¥ä½œæ˜¯**å‰ç«¯ UI å¯¦ä½œ**ã€**çµ„ä»¶é–‹ç™¼**ã€**API æ•´åˆ**ã€**è£œå……æ¸¬è©¦**

### Data Models

**ActivityParticipant Model** [Source: backend/models/activity_participant.py:8-61]
- **Table**: `activity_participants`
- **Primary Key**: `participant_id` (Integer, Auto-increment)
- **é—œè¯æ¬„ä½**:
  - `activity_id` (Integer, FK to activities, NOT NULL)
  - `user_id` (Integer, FK to users, NOT NULL)
- **ç‹€æ…‹æ¬„ä½**:
  - `status` (String(20), DEFAULT 'pending')
    - æœ‰æ•ˆå€¼ï¼š`'pending'` (å¾…å¯©æ ¸), `'approved'` (å·²æ‰¹å‡†), `'joined'` (å·²åŠ å…¥), `'rejected'` (å·²æ‹’çµ•), `'left'` (å·²é›¢é–‹), `'removed'` (è¢«ç§»é™¤)
  - `role` (String(20), DEFAULT 'participant')
    - æœ‰æ•ˆå€¼ï¼š`'creator'` (å‰µå»ºè€…), `'participant'` (åƒèˆ‡è€…)
- **æ™‚é–“æ¬„ä½**:
  - `joined_at` (DateTime, DEFAULT datetime.utcnow) - ç”³è«‹æ™‚é–“
  - `approved_at` (DateTime) - æ‰¹å‡†æ™‚é–“
  - `left_at` (DateTime) - é›¢é–‹æ™‚é–“
- **è¨Šæ¯æ¬„ä½**:
  - `message` (Text) - ç”³è«‹è¨Šæ¯
  - `rejection_reason` (Text) - æ‹’çµ•åŸå› 
- **å”¯ä¸€ç´„æŸ**: `unique_activity_user` - ä¸€å€‹ç”¨æˆ¶åœ¨åŒä¸€æ´»å‹•åªèƒ½æœ‰ä¸€æ¢è¨˜éŒ„
- **æ–¹æ³•**:
  - `approve()` - æ‰¹å‡†ç”³è«‹ï¼ˆæ›´æ–° status='approved', approved_at=nowï¼‰
  - `reject(reason)` - æ‹’çµ•ç”³è«‹ï¼ˆæ›´æ–° status='rejected', rejection_reasonï¼‰
  - `leave()` - é›¢é–‹æ´»å‹•ï¼ˆæ›´æ–° status='left', left_at=nowï¼‰

**Activity Model - åƒèˆ‡è€…ç›¸é—œæ–¹æ³•** [Source: backend/models/activity.py:81-114]
- `get_participant_count()` - ç²å–ç•¶å‰åƒèˆ‡äººæ•¸ï¼ˆstatus in ['joined', 'approved']ï¼‰
- `get_participants()` - ç²å–æ‰€æœ‰åƒèˆ‡è€…åˆ—è¡¨
- `get_pending_participants()` - ç²å–å¾…å¯©æ ¸ç”³è«‹åˆ—è¡¨ï¼ˆstatus='pending'ï¼‰
- `is_user_participant(user_id)` - æª¢æŸ¥ç”¨æˆ¶æ˜¯å¦å·²åƒèˆ‡æˆ–ç”³è«‹ï¼ˆstatus in ['pending', 'joined', 'approved']ï¼‰

### API Specifications

#### 1. ç”³è«‹åŠ å…¥æ´»å‹•

**Endpoint**: `POST /api/activities/<activity_id>/join` [Source: backend/blueprints/activities.py:220-256]

**Authentication**: Required (JWT Token)

**Request Headers**:
```
Authorization: Bearer <JWT_TOKEN>
Content-Type: application/json
```

**Request Body**:
```json
{
  "message": "æˆ‘å¾ˆæƒ³åƒåŠ é€™å€‹æ´»å‹•ï¼Œæˆ‘æœ‰ç›¸é—œçš„ç™»å±±ç¶“é©—..."
}
```

**Response (Success - 200)**:
```json
{
  "message": "ç”³è«‹å·²ç™¼é€ï¼Œç­‰å¾…æ´»å‹•å‰µå»ºè€…å¯©æ ¸",
  "participant_id": 123
}
```

**Response (Error - 400)**:
```json
{
  "error": "ä¸èƒ½åŠ å…¥è‡ªå·±å‰µå»ºçš„æ´»å‹•"
}
// æˆ–
{
  "error": "æ‚¨å·²ç¶“ç”³è«‹æˆ–åƒèˆ‡æ­¤æ´»å‹•"
}
// æˆ–
{
  "error": "æ´»å‹•äººæ•¸å·²æ»¿"
}
```

**Response (Error - 404)**:
```json
{
  "error": "æ‰¾ä¸åˆ°æ´»å‹•"
}
```

**å¾Œç«¯é©—è­‰é‚è¼¯**:
1. æ´»å‹•å­˜åœ¨æª¢æŸ¥
2. ä¸èƒ½åŠ å…¥è‡ªå·±å‰µå»ºçš„æ´»å‹•ï¼ˆ`activity.creator_id == current_user_id`ï¼‰
3. æª¢æŸ¥æ˜¯å¦å·²åƒèˆ‡æˆ–ç”³è«‹ï¼ˆ`activity.is_user_participant(current_user_id)`ï¼‰
4. äººæ•¸æœªæ»¿æª¢æŸ¥ï¼ˆ`activity.get_participant_count() < activity.max_participants`ï¼‰
5. å»ºç«‹ ActivityParticipant è¨˜éŒ„ï¼Œstatus='pending', role='participant'

#### 2. ç²å–å¾…å¯©æ ¸ç”³è«‹åˆ—è¡¨

**Endpoint**: `GET /api/activities/<activity_id>/participants/pending` [Source: backend/blueprints/activities.py:258-289]

**Authentication**: Required (JWT Token)

**Permission**: åªæœ‰æ´»å‹•å‰µå»ºè€…å¯ä»¥æŸ¥çœ‹

**Response (Success - 200)**:
```json
{
  "pending_participants": [
    {
      "participant_id": 1,
      "user_id": 2,
      "name": "å¼µä¸‰",
      "avatar": "https://example.com/avatar.jpg",
      "message": "æˆ‘å¾ˆæƒ³åƒåŠ é€™å€‹æ´»å‹•...",
      "joined_at": "2025-11-05T10:00:00"
    }
  ]
}
```

**Response (Error - 403)**:
```json
{
  "error": "åªæœ‰æ´»å‹•å‰µå»ºè€…å¯ä»¥æŸ¥çœ‹å¾…å¯©æ ¸ç”³è«‹"
}
```

**Response (Error - 404)**:
```json
{
  "error": "æ‰¾ä¸åˆ°æ´»å‹•"
}
```

#### 3. æ‰¹å‡†åƒèˆ‡ç”³è«‹

**Endpoint**: `POST /api/activities/<activity_id>/participants/<participant_id>/approve` [Source: backend/blueprints/activities.py:291-330]

**Authentication**: Required (JWT Token)

**Permission**: åªæœ‰æ´»å‹•å‰µå»ºè€…å¯ä»¥æ‰¹å‡†

**Response (Success - 200)**:
```json
{
  "message": "å·²æ‰¹å‡†ç”³è«‹",
  "current_participants": 4
}
```

**Response (Error - 400)**:
```json
{
  "error": "æ­¤ç”³è«‹å·²è™•ç†"
}
// æˆ–
{
  "error": "æ´»å‹•äººæ•¸å·²æ»¿"
}
```

**Response (Error - 403)**:
```json
{
  "error": "åªæœ‰æ´»å‹•å‰µå»ºè€…å¯ä»¥æ‰¹å‡†ç”³è«‹"
}
```

**Response (Error - 404)**:
```json
{
  "error": "æ‰¾ä¸åˆ°ç”³è«‹è¨˜éŒ„"
}
```

**å¾Œç«¯é©—è­‰é‚è¼¯**:
1. æ´»å‹•å­˜åœ¨æª¢æŸ¥
2. æ¬Šé™æª¢æŸ¥ï¼ˆåªæœ‰å‰µå»ºè€…ï¼‰
3. ç”³è«‹è¨˜éŒ„å­˜åœ¨ä¸”å±¬æ–¼è©²æ´»å‹•
4. ç”³è«‹ç‹€æ…‹ç‚º 'pending'
5. äººæ•¸æœªæ»¿æª¢æŸ¥
6. èª¿ç”¨ `participant.approve()`

#### 4. æ‹’çµ•åƒèˆ‡ç”³è«‹

**Endpoint**: `POST /api/activities/<activity_id>/participants/<participant_id>/reject` [Source: backend/blueprints/activities.py:332-364]

**Authentication**: Required (JWT Token)

**Permission**: åªæœ‰æ´»å‹•å‰µå»ºè€…å¯ä»¥æ‹’çµ•

**Request Body** (é¸å¡«):
```json
{
  "reason": "æŠ±æ­‰ï¼Œäººæ•¸å·²æ»¿"
}
```

**Response (Success - 200)**:
```json
{
  "message": "å·²æ‹’çµ•ç”³è«‹"
}
```

**Response (Error - 400)**:
```json
{
  "error": "æ­¤ç”³è«‹å·²è™•ç†"
}
```

**Response (Error - 403)**:
```json
{
  "error": "åªæœ‰æ´»å‹•å‰µå»ºè€…å¯ä»¥æ‹’çµ•ç”³è«‹"
}
```

**Response (Error - 404)**:
```json
{
  "error": "æ‰¾ä¸åˆ°ç”³è«‹è¨˜éŒ„"
}
```

**å¾Œç«¯é©—è­‰é‚è¼¯**:
1. æ´»å‹•å­˜åœ¨æª¢æŸ¥
2. æ¬Šé™æª¢æŸ¥ï¼ˆåªæœ‰å‰µå»ºè€…ï¼‰
3. ç”³è«‹è¨˜éŒ„å­˜åœ¨ä¸”å±¬æ–¼è©²æ´»å‹•
4. ç”³è«‹ç‹€æ…‹ç‚º 'pending'
5. èª¿ç”¨ `participant.reject(reason)`

### File Locations

Based on [Source: architecture/3-å°ˆæ¡ˆçµæ§‹-project-structure.md]:

**Frontend - New Files**:
- ç”³è«‹åŠ å…¥å°è©±æ¡†çµ„ä»¶: `frontend/src/components/activity/JoinActivityDialog.vue` (æ–°å»º)
- å¾…å¯©æ ¸ç”³è«‹çµ„ä»¶: `frontend/src/components/activity/PendingApplications.vue` (æ–°å»º)
- åƒèˆ‡è€…åˆ—è¡¨çµ„ä»¶: `frontend/src/components/activity/ParticipantList.vue` (æ–°å»ºæˆ–æ›´æ–°)
- API å‡½æ•¸: `frontend/src/api/activities.js` (æ›´æ–° - æ·»åŠ  joinã€pendingã€approveã€reject å‡½æ•¸)
- å‰ç«¯æ¸¬è©¦: `frontend/tests/unit/components/activity/JoinActivityDialog.spec.js` (æ–°å»º)
- å‰ç«¯æ¸¬è©¦: `frontend/tests/unit/components/activity/PendingApplications.spec.js` (æ–°å»º)
- å‰ç«¯æ¸¬è©¦: `frontend/tests/unit/components/activity/ParticipantList.spec.js` (æ–°å»º)
- å‰ç«¯æ¸¬è©¦: `frontend/tests/unit/views/ActivityDetail.spec.js` (æ›´æ–°)

**Frontend - Updated Files**:
- æ´»å‹•è©³æƒ…é é¢: `frontend/src/views/ActivityDetail.vue` (æ›´æ–° - æ•´åˆæ–°çµ„ä»¶)

**Backend - Existing Files** (é©—è­‰å³å¯):
- ActivityParticipant Model: `backend/models/activity_participant.py` (å·²å­˜åœ¨)
- Activities Blueprint: `backend/blueprints/activities.py` (å·²å­˜åœ¨)
- å¾Œç«¯æ¸¬è©¦: `backend/tests/test_activities.py` (æ›´æ–° - è£œå……æ¸¬è©¦æ¡ˆä¾‹)

### Testing Requirements

Based on [Source: architecture/11-æ¸¬è©¦ç­–ç•¥-testing-requirements.md]:

**Unit Testing (Vitest)**:
- **Location**: `frontend/tests/unit/components/activity/`, `frontend/tests/unit/views/`
- **Framework**: Vitest + @vue/test-utils + Element Plus
- **Coverage Target**: 80%+
- **Test Cases**:
  1. **JoinActivityDialog.vue**:
     - æ¸¬è©¦å°è©±æ¡†é–‹å•Ÿ/é—œé–‰
     - æ¸¬è©¦è¡¨å–®é©—è­‰ï¼ˆç©ºè¨Šæ¯ã€å°‘æ–¼ 10 å­—ï¼‰
     - æ¸¬è©¦é€å‡ºç”³è«‹ï¼ˆMock APIï¼‰
     - æ¸¬è©¦æˆåŠŸå¾Œè§¸ç™¼ success äº‹ä»¶
     - æ¸¬è©¦éŒ¯èª¤è™•ç†
  2. **PendingApplications.vue**:
     - æ¸¬è©¦è¼‰å…¥å¾…å¯©æ ¸åˆ—è¡¨
     - æ¸¬è©¦ç©ºç‹€æ…‹é¡¯ç¤º
     - æ¸¬è©¦æ‰¹å‡†ç”³è«‹ç¢ºèªå°è©±æ¡†
     - æ¸¬è©¦æ‹’çµ•ç”³è«‹å°è©±æ¡†
     - æ¸¬è©¦æ‰¹å‡†/æ‹’çµ•å¾Œè§¸ç™¼äº‹ä»¶
  3. **ParticipantList.vue**:
     - æ¸¬è©¦åƒèˆ‡è€…åˆ—è¡¨é¡¯ç¤º
     - æ¸¬è©¦å‰µå»ºè€…æ’åºï¼ˆç¬¬ä¸€ä½ï¼‰
     - æ¸¬è©¦åƒèˆ‡è€…æŒ‰åŠ å…¥æ™‚é–“æ’åº
  4. **ActivityDetail.vue**:
     - æ¸¬è©¦å‰µå»ºè€…ä¸é¡¯ç¤ºã€Œç”³è«‹åŠ å…¥ã€æŒ‰éˆ•
     - æ¸¬è©¦éå‰µå»ºè€…é¡¯ç¤ºã€Œç”³è«‹åŠ å…¥ã€æŒ‰éˆ•
     - æ¸¬è©¦å„ç¨®ç‹€æ…‹ä¸‹çš„æŒ‰éˆ•æ–‡å­—å’Œé¡å‹
     - æ¸¬è©¦äººæ•¸å·²æ»¿æ™‚æŒ‰éˆ•ç¦ç”¨
     - æ¸¬è©¦å‰µå»ºè€…é¡¯ç¤ºå¾…å¯©æ ¸ç”³è«‹å€å¡Š

**Backend Testing (pytest)**:
- **Location**: `backend/tests/test_activities.py`
- **Framework**: pytest + pytest-flask
- **Test Cases**:
  1. æ¸¬è©¦æˆåŠŸç”³è«‹åŠ å…¥æ´»å‹•
  2. æ¸¬è©¦ä¸èƒ½åŠ å…¥è‡ªå·±å‰µå»ºçš„æ´»å‹•
  3. æ¸¬è©¦ä¸èƒ½é‡è¤‡ç”³è«‹
  4. æ¸¬è©¦äººæ•¸å·²æ»¿æ™‚ç„¡æ³•ç”³è«‹
  5. æ¸¬è©¦å‰µå»ºè€…ç²å–å¾…å¯©æ ¸ç”³è«‹
  6. æ¸¬è©¦éå‰µå»ºè€…ç„¡æ³•ç²å–å¾…å¯©æ ¸ç”³è«‹
  7. æ¸¬è©¦æˆåŠŸæ‰¹å‡†ç”³è«‹
  8. æ¸¬è©¦éå‰µå»ºè€…ç„¡æ³•æ‰¹å‡†ç”³è«‹
  9. æ¸¬è©¦ç„¡æ³•é‡è¤‡æ‰¹å‡†å·²è™•ç†çš„ç”³è«‹
  10. æ¸¬è©¦æˆåŠŸæ‹’çµ•ç”³è«‹
  11. æ¸¬è©¦æ‹’çµ•ç”³è«‹æ™‚ä¸æä¾›åŸå› 

**Running Tests**:
```bash
# Frontend
npm run test:unit

# Backend
pytest backend/tests/test_activities.py -v -k "join|participant|approve|reject"
```

### Technical Constraints

[Source: architecture/2-å‰ç«¯æŠ€è¡“æ£§-frontend-tech-stack.md]

1. **Framework Versions**:
   - Vue.js 3.3.8+
   - Element Plus 2.4.2+
   - Axios 1.6.0+ (HTTP è«‹æ±‚)
   - Day.js 1.11.10+ (æ—¥æœŸè™•ç†)

2. **Performance Requirements**:
   - API å›æ‡‰æ™‚é–“ < 1000ms

3. **UI/UX Requirements**:
   - éŸ¿æ‡‰å¼è¨­è¨ˆï¼šæ¡Œé¢ã€å¹³æ¿ã€æ‰‹æ©Ÿ
   - ä½¿ç”¨ Element Plus Dialog, Form, Input, Button, Tag, Badge, Collapse, Avatar, Empty çµ„ä»¶
   - éŒ¯èª¤è¨Šæ¯æ‡‰æ¸…æ™°ä¸”å…·é«”
   - é‡è¦æ“ä½œéœ€è¦ç¢ºèªæ©Ÿåˆ¶ï¼ˆ`ElMessageBox.confirm()` å’Œ `ElMessageBox.prompt()`ï¼‰
   - è¡¨å–®é©—è­‰æ‡‰å³æ™‚åé¥‹

4. **Browser Support**:
   - Chrome 90+, Firefox 88+, Safari 14+, Edge 90+

5. **Authentication**:
   - æ‰€æœ‰ API éœ€ JWT èªè­‰
   - åªèƒ½æŸ¥çœ‹/æ“ä½œè‡ªå·±æœ‰æ¬Šé™çš„è³‡æº

6. **Form Validation**:
   - ç”³è«‹è¨Šæ¯å¿…å¡«ä¸”è‡³å°‘ 10 å­—
   - å­—æ•¸é™åˆ¶ 500 å­—

### Project Structure Notes

**æ–°å¢æª”æ¡ˆ**:
- âœ… `frontend/src/components/activity/JoinActivityDialog.vue` - ç”³è«‹åŠ å…¥å°è©±æ¡†ï¼ˆæ–°å»ºï¼‰
- âœ… `frontend/src/components/activity/PendingApplications.vue` - å¾…å¯©æ ¸ç”³è«‹åˆ—è¡¨ï¼ˆæ–°å»ºï¼‰
- âœ… `frontend/src/components/activity/ParticipantList.vue` - åƒèˆ‡è€…åˆ—è¡¨ï¼ˆæ–°å»ºï¼‰
- âœ… `frontend/tests/unit/components/activity/JoinActivityDialog.spec.js` - å–®å…ƒæ¸¬è©¦ï¼ˆæ–°å»ºï¼‰
- âœ… `frontend/tests/unit/components/activity/PendingApplications.spec.js` - å–®å…ƒæ¸¬è©¦ï¼ˆæ–°å»ºï¼‰
- âœ… `frontend/tests/unit/components/activity/ParticipantList.spec.js` - å–®å…ƒæ¸¬è©¦ï¼ˆæ–°å»ºï¼‰

**ä¿®æ”¹æª”æ¡ˆ**:
- âœ… `frontend/src/views/ActivityDetail.vue` - æ•´åˆæ–°çµ„ä»¶
- âœ… `frontend/src/api/activities.js` - æ·»åŠ  API å‡½æ•¸
- âœ… `frontend/tests/unit/views/ActivityDetail.spec.js` - è£œå……æ¸¬è©¦æ¡ˆä¾‹
- âœ… `backend/tests/test_activities.py` - è£œå……æ¸¬è©¦æ¡ˆä¾‹

**ç„¡çµæ§‹è¡çª**ï¼šæ‰€æœ‰æ–°å¢æª”æ¡ˆç¬¦åˆç¾æœ‰å°ˆæ¡ˆçµæ§‹ã€‚

### Additional Notes

**ç”³è«‹æµç¨‹**:
1. ä½¿ç”¨è€…é»æ“Šã€Œç”³è«‹åŠ å…¥ã€æŒ‰éˆ•
2. é¡¯ç¤ºç”³è«‹å°è©±æ¡†ï¼Œè¼¸å…¥ç”³è«‹è¨Šæ¯
3. é€å‡ºç”³è«‹å¾Œï¼Œå»ºç«‹ ActivityParticipant è¨˜éŒ„ï¼Œstatus='pending'
4. å‰µå»ºè€…åœ¨æ´»å‹•è©³æƒ…é æŸ¥çœ‹å¾…å¯©æ ¸ç”³è«‹
5. å‰µå»ºè€…æ‰¹å‡†æˆ–æ‹’çµ•ç”³è«‹
6. æ‰¹å‡†å¾Œï¼Œstatus è®Šæ›´ç‚º 'approved'ï¼Œåƒèˆ‡è€…åŠ å…¥æ´»å‹•
7. æ‹’çµ•å¾Œï¼Œstatus è®Šæ›´ç‚º 'rejected'

**ç‹€æ…‹æµè½‰**:
```
null (æœªç”³è«‹)
  â†“ ç”³è«‹åŠ å…¥
pending (å¾…å¯©æ ¸)
  â†“ å‰µå»ºè€…æ‰¹å‡†        â†“ å‰µå»ºè€…æ‹’çµ•
approved (å·²æ‰¹å‡†)     rejected (å·²æ‹’çµ•)
```

**ç”¨æˆ¶é«”é©—è€ƒé‡**:
- ç”³è«‹è¨Šæ¯è‡³å°‘ 10 å­—ï¼Œç¢ºä¿ç”³è«‹è€…æœ‰èª æ„
- æ‰¹å‡†/æ‹’çµ•æ“ä½œéƒ½æœ‰ç¢ºèªå°è©±æ¡†ï¼Œé˜²æ­¢èª¤æ“ä½œ
- æ‹’çµ•åŸå› é¸å¡«ï¼Œè®“å‰µå»ºè€…å¯ä»¥é¸æ“‡æ˜¯å¦å‘ŠçŸ¥åŸå› 
- å³æ™‚æ›´æ–°åƒèˆ‡è€…åˆ—è¡¨å’Œäººæ•¸
- éŸ¿æ‡‰å¼è¨­è¨ˆç¢ºä¿åœ¨å„ç¨®è£ç½®ä¸Šéƒ½èƒ½è‰¯å¥½ä½¿ç”¨

**æ¬Šé™æ§åˆ¶**:
- åªæœ‰å‰µå»ºè€…å¯ä»¥æŸ¥çœ‹å¾…å¯©æ ¸ç”³è«‹
- åªæœ‰å‰µå»ºè€…å¯ä»¥æ‰¹å‡†/æ‹’çµ•ç”³è«‹
- å‰µå»ºè€…ä¸èƒ½ç”³è«‹è‡ªå·±çš„æ´»å‹•
- ç”¨æˆ¶ä¸èƒ½é‡è¤‡ç”³è«‹åŒä¸€æ´»å‹•

**Day.js ç›¸å°æ™‚é–“é¡¯ç¤º**:
```javascript
import dayjs from 'dayjs'
import relativeTime from 'dayjs/plugin/relativeTime'
import 'dayjs/locale/zh-tw'

dayjs.extend(relativeTime)
dayjs.locale('zh-tw')

// ä½¿ç”¨
dayjs(timestamp).fromNow() // "2 å°æ™‚å‰"
```

**Element Plus MessageBox ä½¿ç”¨**:
```javascript
// ç¢ºèªå°è©±æ¡†
await ElMessageBox.confirm(
  'ç¢ºå®šè¦æ‰¹å‡†æ­¤ç”³è«‹å—ï¼Ÿ',
  'æ‰¹å‡†ç”³è«‹',
  {
    confirmButtonText: 'ç¢ºå®šæ‰¹å‡†',
    cancelButtonText: 'å–æ¶ˆ',
    type: 'success'
  }
)

// è¼¸å…¥å°è©±æ¡†
const { value: reason } = await ElMessageBox.prompt(
  'æ‚¨å¯ä»¥é¸æ“‡æ€§åœ°å‘ŠçŸ¥æ‹’çµ•åŸå› ',
  'æ‹’çµ•ç”³è«‹',
  {
    confirmButtonText: 'ç¢ºå®šæ‹’çµ•',
    cancelButtonText: 'å–æ¶ˆ',
    inputType: 'textarea',
    inputPlaceholder: 'è«‹è¼¸å…¥æ‹’çµ•åŸå› ï¼ˆé¸å¡«ï¼‰'
  }
)
```

## Testing

### Frontend Testing
```bash
# åŸ·è¡Œå–®å…ƒæ¸¬è©¦
npm run test:unit

# åŸ·è¡Œå¸¶è¦†è“‹ç‡çš„æ¸¬è©¦
npm run test:coverage

# UI æ¸¬è©¦æ¨¡å¼
npm run test:ui
```

### Backend Testing
```bash
# åŸ·è¡Œæ´»å‹•åƒèˆ‡ç›¸é—œæ¸¬è©¦
pytest backend/tests/test_activities.py -v -k "join|participant|approve|reject"

# å¸¶è¦†è“‹ç‡å ±å‘Š
pytest backend/tests/ --cov=backend/blueprints --cov-report=html
```

### Manual Testing Checklist

- [ ] éå‰µå»ºè€…ç™»å…¥ä¸¦è¨ªå•æ´»å‹•è©³æƒ…é 
- [ ] é¡¯ç¤ºã€Œç”³è«‹åŠ å…¥ã€æŒ‰éˆ•
- [ ] é»æ“Šã€Œç”³è«‹åŠ å…¥ã€é¡¯ç¤ºå°è©±æ¡†
- [ ] è¼¸å…¥å°‘æ–¼ 10 å­—çš„è¨Šæ¯é¡¯ç¤ºé©—è­‰éŒ¯èª¤
- [ ] è¼¸å…¥æœ‰æ•ˆè¨Šæ¯ä¸¦é€å‡ºç”³è«‹
- [ ] é¡¯ç¤ºæˆåŠŸè¨Šæ¯ä¸”æŒ‰éˆ•è®Šæ›´ç‚ºã€Œå¾…å¯©æ ¸ã€
- [ ] å‰µå»ºè€…ç™»å…¥ä¸¦è¨ªå•æ´»å‹•è©³æƒ…é 
- [ ] é¡¯ç¤ºã€Œå¾…å¯©æ ¸ç”³è«‹ã€å€å¡Š
- [ ] å±•é–‹æŸ¥çœ‹å¾…å¯©æ ¸ç”³è«‹åˆ—è¡¨
- [ ] é»æ“Šã€Œæ‰¹å‡†ã€é¡¯ç¤ºç¢ºèªå°è©±æ¡†
- [ ] ç¢ºèªæ‰¹å‡†å¾Œé¡¯ç¤ºæˆåŠŸè¨Šæ¯
- [ ] è©²ç”³è«‹å¾å¾…å¯©æ ¸åˆ—è¡¨ç§»é™¤
- [ ] åƒèˆ‡è€…åˆ—è¡¨å¢åŠ è©²ä½¿ç”¨è€…
- [ ] ç•¶å‰åƒèˆ‡äººæ•¸ +1
- [ ] é»æ“Šã€Œæ‹’çµ•ã€é¡¯ç¤ºè¼¸å…¥åŸå› å°è©±æ¡†
- [ ] è¼¸å…¥æˆ–ä¸è¼¸å…¥åŸå› å¾Œç¢ºèªæ‹’çµ•
- [ ] è©²ç”³è«‹å¾å¾…å¯©æ ¸åˆ—è¡¨ç§»é™¤
- [ ] åƒèˆ‡è€…åˆ—è¡¨æ­£ç¢ºé¡¯ç¤º
- [ ] å‰µå»ºè€…é¡¯ç¤ºåœ¨ç¬¬ä¸€ä½ä¸¦æœ‰ã€Œå‰µå»ºè€…ã€æ¨™ç±¤
- [ ] å…¶ä»–åƒèˆ‡è€…æŒ‰åŠ å…¥æ™‚é–“æ’åº
- [ ] éŸ¿æ‡‰å¼è¨­è¨ˆåœ¨å„ç¨®è£ç½®ä¸Šæ­£å¸¸é¡¯ç¤º
- [ ] äººæ•¸å·²æ»¿æ™‚ã€Œç”³è«‹åŠ å…¥ã€æŒ‰éˆ•ç¦ç”¨
- [ ] éå‰µå»ºè€…å˜—è©¦é€é API æ“ä½œè¿”å› 403
- [ ] API å›æ‡‰æ™‚é–“ < 1000ms

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-05 | 1.0 | Initial story creation | GitHub Copilot |

## Dev Agent Record

*æ­¤å€å¡Šç”±é–‹ç™¼ä»£ç†åœ¨å¯¦ä½œæ™‚å¡«å¯«*

### Agent Model Used

(å¾…é–‹ç™¼ä»£ç†å¡«å¯«)

### Debug Log References

(å¾…é–‹ç™¼ä»£ç†å¡«å¯«)

### Completion Notes List

(å¾…é–‹ç™¼ä»£ç†å¡«å¯«)

### File List

(å¾…é–‹ç™¼ä»£ç†å¡«å¯«)

## QA Results

*æ­¤å€å¡Šç”± QA ä»£ç†å¯©æŸ¥å¾Œæ›´æ–°å¯©æŸ¥çµæœ*
